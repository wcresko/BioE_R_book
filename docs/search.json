[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "BioEngineering Statistics Computational Tools",
    "section": "",
    "text": "Preface\nThis is a Quarto book that contains helpful R and other scripting material for BioE610 - Bioengineering Statistics at the University of Oregon.\nTo learn more about Quarto books visit https://quarto.org/docs/books.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "This book contains a lot of R scripts, tips and tricks that will be useful for students in BioE610 - Bioengineering Statistics at the University of Oregon.\nThis is a book created from markdown and executable code.\nSee Knuth (1984) for additional discussion of literate programming.\n\n\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput. J. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "R_basics.html",
    "href": "R_basics.html",
    "title": "2  R basics",
    "section": "",
    "text": "2.1 Some R basics\n–\nPoints 1. and 2. can be summarised as an object-orientated programming (OOP) approach. - This may sound super abstract now, but we’ll see lots of examples over the coming weeks that will make things clear.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "6  Summary",
    "section": "",
    "text": "To be written",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Summary</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Knuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "References"
    ]
  },
  {
    "objectID": "R_basics.html#section",
    "href": "R_basics.html#section",
    "title": "2  R basics",
    "section": "3.1 ",
    "text": "3.1 \n\nR is a statistical programming language (derived from S)\nSuperb data management & graphics capabilities\nYou can write your own functions\nPowerful and flexible\nRuns on all computer platforms\nWell established system of packages and documentation\nActive development and dedicated community\nCan use a nice GUI front end such as Rstudio\nReproducibility\n\nkeep your scripts to see exactly what was done\ndistribute these with your data\nembed your R analyses in polished RMarkdown files\n\nFREE",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#section-1",
    "href": "R_basics.html#section-1",
    "title": "2  R basics",
    "section": "3.2 ",
    "text": "3.2",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#r-resources",
    "href": "R_basics.html#r-resources",
    "title": "2  R basics",
    "section": "3.3 R resources",
    "text": "3.3 R resources\n\nThe R Project Homepage: http://www.r-project.org\nQuick R Homepage: http://www.statmethods.net\nBioconductor: http://www.bioconductor.org\n\nAn Introduction to R (long!): http://cran.r-project.org/doc/manuals/R-intro.html\nR for Data Science: https://r4ds.had.co.nz\nGoogle - tutorials, guides, demos, packages and more",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#running-r",
    "href": "R_basics.html#running-r",
    "title": "2  R basics",
    "section": "3.4 Running R",
    "text": "3.4 Running R\n\nNeed to make sure that you have R installed\n\nlocally or on a server\nhttps://www.r-project.org\n\nRun R from the command line\n\njust type R\ncan run it locally as well as on clusters\n\nInstall a R Integrated Development Environment (IDE)\n\nRStudio: http://www.rstudio.com\nMakes working with R much easier, particularly for a new R user\nRun on Windows, Mac or Linux OS\nWe’re running as a server on the AWS instances",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#rstudio",
    "href": "R_basics.html#rstudio",
    "title": "2  R basics",
    "section": "3.5 RStudio",
    "text": "3.5 RStudio",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#exercise-1.1---exploring-rstudio",
    "href": "R_basics.html#exercise-1.1---exploring-rstudio",
    "title": "2  R basics",
    "section": "3.6 Exercise 1.1 - Exploring RStudio",
    "text": "3.6 Exercise 1.1 - Exploring RStudio\n\nOpen RStudio by adding :8787 to your AMI url\n\nTake a few minutes to familiarize yourself with the Rstudio environment by locating the following features:\n\nSee what types of new files can be made in Rstudio by clicking the top left icon- open a new R script.\nThe windows clockwise from top left are: the code editor, the workspace and history, the plots and files window, and the R console.\nIn the plots and files window, click on the packages and help tabs to see what they offer.\n\nNow open the file called Exercises_for_R_Lectures.Rmd in /workshop_materials/evomics_stat_2019/03.Exercises/\n\nThis file will serve as your digital notebook for parts of the workshop and contains the other exercises.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#rmarkdown",
    "href": "R_basics.html#rmarkdown",
    "title": "2  R basics",
    "section": "6.1 RMarkdown",
    "text": "6.1 RMarkdown\n\nA great way to embed R code into descriptive files to keep your life organized\n\nhttp://kbroman.org/knitr_knutshell/pages/Rmarkdown.html\nhttps://bookdown.org/yihui/rmarkdown/\nhttps://bookdown.org/yihui/bookdown/\n\nYou can insert R chunks into Rmarkdown documents\nYou will be doing more with markdown on Thursday",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#exercise-1.2---intro-to-rmarkdown-files",
    "href": "R_basics.html#exercise-1.2---intro-to-rmarkdown-files",
    "title": "2  R basics",
    "section": "6.2 Exercise 1.2 - Intro to RMarkdown Files",
    "text": "6.2 Exercise 1.2 - Intro to RMarkdown Files\n\nTake a few minutes to familiarize yourself with RMarkdown files by completing exercise 1.2 in your exercises document.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#basics-of-r-1",
    "href": "R_basics.html#basics-of-r-1",
    "title": "2  R basics",
    "section": "6.1 BASICS of R",
    "text": "6.1 BASICS of R\n\nCommands can be submitted through\n\nterminal, console or scripts\ncan be embedded as code chunks in RMarkdown\n\nOn these slides evaluating code chunks and showing output\n\nshown here after the two # symbols\nthe number of output items is in []\n\nR follows the normal priority of mathematical evaluation (PEDMAS)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#basics-of-r-2",
    "href": "R_basics.html#basics-of-r-2",
    "title": "2  R basics",
    "section": "6.2 BASICS of R",
    "text": "6.2 BASICS of R\nInput code chunk and then output\n\n4*4\n\n[1] 16\n\n\nInput code chunk and then output\n\n(4+3*2^2)\n\n[1] 16",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#assigning-variables",
    "href": "R_basics.html#assigning-variables",
    "title": "2  R basics",
    "section": "6.3 Assigning Variables",
    "text": "6.3 Assigning Variables\n\nA better way to do this is to assign variables\nVariables are assigned values using the &lt;- operator.\nVariable names must begin with a letter, but other than that, just about anything goes.\nDo keep in mind that R is case sensitive.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#assigning-variables-1",
    "href": "R_basics.html#assigning-variables-1",
    "title": "2  R basics",
    "section": "6.4 Assigning Variables",
    "text": "6.4 Assigning Variables\n\nx &lt;- 2\nx * 3\n\n[1] 6\n\ny &lt;- x * 3\ny - 2\n\n[1] 4\n\n\nThese do not work\n\n3y &lt;- 3\n3*y &lt;- 3",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#arithmetic-operations-on-functions",
    "href": "R_basics.html#arithmetic-operations-on-functions",
    "title": "2  R basics",
    "section": "6.5 Arithmetic operations on functions",
    "text": "6.5 Arithmetic operations on functions\n\nArithmetic operations can be performed easily on functions as well as numbers.\n\n\nx &lt;- 12\nx+2\n\n[1] 14\n\nx^2\n\n[1] 144\n\nlog(x)\n\n[1] 2.484907",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#arithmetic-operations-on-functions-1",
    "href": "R_basics.html#arithmetic-operations-on-functions-1",
    "title": "2  R basics",
    "section": "6.6 Arithmetic operations on functions",
    "text": "6.6 Arithmetic operations on functions\n\nNote that the last of these - log - is a built in function of R, and therefore the object of the function needs to be put in parentheses\nThese parentheses will be important, and we’ll come back to them later when we add arguments after the object in the parentheses\n\nThe outcome of calculations can be assigned to new variables as well, and the results can be checked using the print command",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#arithmetic-operations-on-functions-2",
    "href": "R_basics.html#arithmetic-operations-on-functions-2",
    "title": "2  R basics",
    "section": "6.7 Arithmetic operations on functions",
    "text": "6.7 Arithmetic operations on functions\n\ny &lt;- 67\nprint(y)\n\n[1] 67\n\nx &lt;- 124\nz &lt;- (x*y)^2\nprint(z)\n\n[1] 69022864",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#strings",
    "href": "R_basics.html#strings",
    "title": "2  R basics",
    "section": "6.8 STRINGS",
    "text": "6.8 STRINGS\n\nOperations can be performed on character variables as well\nNote that “characters” need to be set off by quotation marks to differentiate them from numbers\nThe c stands for concatenate\nNote that we are using the same variable names as we did previously, which means that we’re overwriting our previous assignment\nA good rule of thumb is to use new names for each variable, and make them short but still descriptive",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#strings-1",
    "href": "R_basics.html#strings-1",
    "title": "2  R basics",
    "section": "6.9 STRINGS",
    "text": "6.9 STRINGS\n\nx &lt;- \"I Love\"\nprint (x)\n\n[1] \"I Love\"\n\ny &lt;- \"Biostatistics\"\nprint (y)\n\n[1] \"Biostatistics\"\n\nz &lt;- c(x,y)\nprint (z)\n\n[1] \"I Love\"        \"Biostatistics\"",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#vectors",
    "href": "R_basics.html#vectors",
    "title": "2  R basics",
    "section": "6.10 VECTORS",
    "text": "6.10 VECTORS\n\nIn general R thinks in terms of vectors\n\na list of characters, factors or numerical values (“I Love”)\nit will benefit any R user to try to write scripts with that in mind\nit will simplify most things\n\nVectors can be assigned directly using the ‘c()’ function and then entering the exact values.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#vectors-1",
    "href": "R_basics.html#vectors-1",
    "title": "2  R basics",
    "section": "6.11 VECTORS",
    "text": "6.11 VECTORS\n\nn &lt;- c(2,3,4,2,1,2,4,5,10,8,9)\nprint(n)\n\n [1]  2  3  4  2  1  2  4  5 10  8  9\n\n\n\nz &lt;- n +3\nprint(z)\n\n [1]  5  6  7  5  4  5  7  8 13 11 12",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#factors",
    "href": "R_basics.html#factors",
    "title": "2  R basics",
    "section": "6.12 FACTORS",
    "text": "6.12 FACTORS\n\nThe vector x is now what is called a list of character values (“I Love”).\nSometimes we would like to treat the characters as if they were units for subsequent calculations.\nThese are called factors, and we can redefine our character variables as factors.\nThis might seem a bit strange, but it’s important for statistical analyses where we might want to see the mean or variance for two different treatments.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#factors-1",
    "href": "R_basics.html#factors-1",
    "title": "2  R basics",
    "section": "6.13 FACTORS",
    "text": "6.13 FACTORS\n\nx_factor &lt;- as.factor(x)\nprint (x_factor)\n\n[1] I Love\nLevels: I Love\n\n\n\nNote that factor levels are reported alphabetically",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#factors-2",
    "href": "R_basics.html#factors-2",
    "title": "2  R basics",
    "section": "6.14 FACTORS",
    "text": "6.14 FACTORS\n\nWe can also determine how R “sees” a variable using str() or class() functions.\nThis is a useful check when importing datasets or verifying that you assigned a class correctly\n\n\nstr(x)\n\n chr \"I Love\"\n\nclass(x)\n\n[1] \"character\"",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#types-or-classes-of-vectors-of-data",
    "href": "R_basics.html#types-or-classes-of-vectors-of-data",
    "title": "2  R basics",
    "section": "6.15 Types or ‘classes’ of vectors of data",
    "text": "6.15 Types or ‘classes’ of vectors of data",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#types-of-vectors-of-data",
    "href": "R_basics.html#types-of-vectors-of-data",
    "title": "2  R basics",
    "section": "6.16 Types of vectors of data",
    "text": "6.16 Types of vectors of data\n\nint stands for integers\ndbl stands for doubles, or real numbers\nchr stands for character vectors, or strings\ndttm stands for date-times (a date + a time)\nlgl stands for logical, vectors that contain only TRUE or FALSE\nfctr stands for factors, which R uses to represent categorical variables with fixed possible values\ndate stands for dates",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#types-of-vectors-of-data-1",
    "href": "R_basics.html#types-of-vectors-of-data-1",
    "title": "2  R basics",
    "section": "6.17 Types of vectors of data",
    "text": "6.17 Types of vectors of data\n\nLogical vectors can take only three possible values:\n\nFALSE\nTRUE\nNA which is ‘not available’.\n\nInteger and double vectors are known collectively as numeric vectors.\n\nIn R numbers are doubles by default.\n\nIntegers have one special value: NA, while doubles have four:\n\nNA\nNaN which is ‘not a number’\nInf\n-Inf",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#basic-statistics",
    "href": "R_basics.html#basic-statistics",
    "title": "2  R basics",
    "section": "6.18 Basic Statistics",
    "text": "6.18 Basic Statistics\nMany functions exist to operate on vectors.\n\nmean(n)\nmedian(n)\nvar(n)\nlog(n)\nexp(n)\nsqrt(n)\nsum(n)\nlength(n)\nsample(n, replace = T) #has an additional argument (replace=T)\n\n\nArguments modify or direct the function in some way\n\nThere are many arguments for each function, some of which are defaults\nTab complete is helpful to view argument options",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#getting-help",
    "href": "R_basics.html#getting-help",
    "title": "2  R basics",
    "section": "6.19 Getting Help",
    "text": "6.19 Getting Help\n\nGetting Help on any function is very easy - just type a question mark and the name of the function.\nThere are functions for just about anything within R and it is easy enough to write your own functions if none already exist to do what you want to do.\nIn general, function calls have a simple structure: a function name, a set of parentheses and an optional set of parameters/arguments to send to the function.\nHelp pages exist for all functions that, at a minimum, explain what parameters exist for the function.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#getting-help-1",
    "href": "R_basics.html#getting-help-1",
    "title": "2  R basics",
    "section": "6.20 Getting Help",
    "text": "6.20 Getting Help\n\n- help(mean)\n- ?mean\n- example(mean)\n- help.search(\"mean\")\n- apropos(\"mean\")\n- args(mean)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#creating-vectors",
    "href": "R_basics.html#creating-vectors",
    "title": "2  R basics",
    "section": "6.21 Creating vectors",
    "text": "6.21 Creating vectors\n\nCreating a vector of new data by entering it by hand can be a drag\nHowever, it is also very easy to use functions such as\n\nseq\nsample",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#creating-vectors-1",
    "href": "R_basics.html#creating-vectors-1",
    "title": "2  R basics",
    "section": "6.22 Creating vectors",
    "text": "6.22 Creating vectors\n\nWhat do the arguments mean?\n\n\nseq_1 &lt;- seq(0.0, 10.0, by = 0.1)\nprint(seq_1)\n\n  [1]  0.0  0.1  0.2  0.3  0.4  0.5  0.6  0.7  0.8  0.9  1.0  1.1  1.2  1.3  1.4\n [16]  1.5  1.6  1.7  1.8  1.9  2.0  2.1  2.2  2.3  2.4  2.5  2.6  2.7  2.8  2.9\n [31]  3.0  3.1  3.2  3.3  3.4  3.5  3.6  3.7  3.8  3.9  4.0  4.1  4.2  4.3  4.4\n [46]  4.5  4.6  4.7  4.8  4.9  5.0  5.1  5.2  5.3  5.4  5.5  5.6  5.7  5.8  5.9\n [61]  6.0  6.1  6.2  6.3  6.4  6.5  6.6  6.7  6.8  6.9  7.0  7.1  7.2  7.3  7.4\n [76]  7.5  7.6  7.7  7.8  7.9  8.0  8.1  8.2  8.3  8.4  8.5  8.6  8.7  8.8  8.9\n [91]  9.0  9.1  9.2  9.3  9.4  9.5  9.6  9.7  9.8  9.9 10.0",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#creating-vectors-2",
    "href": "R_basics.html#creating-vectors-2",
    "title": "2  R basics",
    "section": "6.23 Creating vectors",
    "text": "6.23 Creating vectors\n\nseq_2 &lt;- seq(10.0, 0.0, by = -0.1)\nprint(seq_2)\n\n  [1] 10.0  9.9  9.8  9.7  9.6  9.5  9.4  9.3  9.2  9.1  9.0  8.9  8.8  8.7  8.6\n [16]  8.5  8.4  8.3  8.2  8.1  8.0  7.9  7.8  7.7  7.6  7.5  7.4  7.3  7.2  7.1\n [31]  7.0  6.9  6.8  6.7  6.6  6.5  6.4  6.3  6.2  6.1  6.0  5.9  5.8  5.7  5.6\n [46]  5.5  5.4  5.3  5.2  5.1  5.0  4.9  4.8  4.7  4.6  4.5  4.4  4.3  4.2  4.1\n [61]  4.0  3.9  3.8  3.7  3.6  3.5  3.4  3.3  3.2  3.1  3.0  2.9  2.8  2.7  2.6\n [76]  2.5  2.4  2.3  2.2  2.1  2.0  1.9  1.8  1.7  1.6  1.5  1.4  1.3  1.2  1.1\n [91]  1.0  0.9  0.8  0.7  0.6  0.5  0.4  0.3  0.2  0.1  0.0",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#creating-vectors-3",
    "href": "R_basics.html#creating-vectors-3",
    "title": "2  R basics",
    "section": "6.24 Creating vectors",
    "text": "6.24 Creating vectors\n\nseq_square &lt;- (seq_2)*(seq_2)\nprint(seq_square)\n\n  [1] 100.00  98.01  96.04  94.09  92.16  90.25  88.36  86.49  84.64  82.81\n [11]  81.00  79.21  77.44  75.69  73.96  72.25  70.56  68.89  67.24  65.61\n [21]  64.00  62.41  60.84  59.29  57.76  56.25  54.76  53.29  51.84  50.41\n [31]  49.00  47.61  46.24  44.89  43.56  42.25  40.96  39.69  38.44  37.21\n [41]  36.00  34.81  33.64  32.49  31.36  30.25  29.16  28.09  27.04  26.01\n [51]  25.00  24.01  23.04  22.09  21.16  20.25  19.36  18.49  17.64  16.81\n [61]  16.00  15.21  14.44  13.69  12.96  12.25  11.56  10.89  10.24   9.61\n [71]   9.00   8.41   7.84   7.29   6.76   6.25   5.76   5.29   4.84   4.41\n [81]   4.00   3.61   3.24   2.89   2.56   2.25   1.96   1.69   1.44   1.21\n [91]   1.00   0.81   0.64   0.49   0.36   0.25   0.16   0.09   0.04   0.01\n[101]   0.00",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#creating-vectors-4",
    "href": "R_basics.html#creating-vectors-4",
    "title": "2  R basics",
    "section": "6.25 Creating vectors",
    "text": "6.25 Creating vectors\n\nseq_square_new &lt;- (seq_2)^2\nprint(seq_square_new)\n\n  [1] 100.00  98.01  96.04  94.09  92.16  90.25  88.36  86.49  84.64  82.81\n [11]  81.00  79.21  77.44  75.69  73.96  72.25  70.56  68.89  67.24  65.61\n [21]  64.00  62.41  60.84  59.29  57.76  56.25  54.76  53.29  51.84  50.41\n [31]  49.00  47.61  46.24  44.89  43.56  42.25  40.96  39.69  38.44  37.21\n [41]  36.00  34.81  33.64  32.49  31.36  30.25  29.16  28.09  27.04  26.01\n [51]  25.00  24.01  23.04  22.09  21.16  20.25  19.36  18.49  17.64  16.81\n [61]  16.00  15.21  14.44  13.69  12.96  12.25  11.56  10.89  10.24   9.61\n [71]   9.00   8.41   7.84   7.29   6.76   6.25   5.76   5.29   4.84   4.41\n [81]   4.00   3.61   3.24   2.89   2.56   2.25   1.96   1.69   1.44   1.21\n [91]   1.00   0.81   0.64   0.49   0.36   0.25   0.16   0.09   0.04   0.01\n[101]   0.00",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#r-interlude",
    "href": "R_basics.html#r-interlude",
    "title": "2  R basics",
    "section": "5.26 R Interlude",
    "text": "5.26 R Interlude\nComplete Exercises 1.3-1.6",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#drawing-samples-from-distributions",
    "href": "R_basics.html#drawing-samples-from-distributions",
    "title": "2  R basics",
    "section": "6.26 Drawing samples from distributions",
    "text": "6.26 Drawing samples from distributions\n\nHere is a way to create your own data sets that are random samples…\n\n\nx &lt;- rnorm (n = 10000, mean = 0, sd = 10)\ny &lt;- sample (1:10000, 10000, replace = T)\nxy &lt;- cbind(x,y)\nplot(xy)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#drawing-samples-from-distributions-1",
    "href": "R_basics.html#drawing-samples-from-distributions-1",
    "title": "2  R basics",
    "section": "6.27 Drawing samples from distributions",
    "text": "6.27 Drawing samples from distributions\n\nx &lt;- rnorm (10000, 0, 10)\ny &lt;- sample (1:10000, 10000, replace = T)\nxy &lt;- cbind(x,y)\nhist(x)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#drawing-samples-from-distributions-2",
    "href": "R_basics.html#drawing-samples-from-distributions-2",
    "title": "2  R basics",
    "section": "6.28 Drawing samples from distributions",
    "text": "6.28 Drawing samples from distributions\n\nYou’ve probably figured out that y from the last example is drawing numbers with equal probability.\nWhat if you want to draw from a distribution?\nAgain, play around with the arguments in the parentheses to see what happens.\n\n\nx &lt;- rnorm (10000, 0, 10)\ny &lt;- sample (???, 10000, replace = ???)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#drawing-samples-from-distributions-3",
    "href": "R_basics.html#drawing-samples-from-distributions-3",
    "title": "2  R basics",
    "section": "6.29 Drawing samples from distributions",
    "text": "6.29 Drawing samples from distributions\n\ndnorm() generates the probability density, which can be plotted using the curve() function.\nNote that is curve is added to the plot using add=TRUE\n\n\nx &lt;-rnorm(1000, 0, 100)\nhist(x, xlim = c(-500,500))\ncurve(50000*dnorm(x, 0, 100), xlim = c(-500,500), add=TRUE, col='Red')",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html",
    "href": "Tidyverse.html",
    "title": "4  Tidyverse",
    "section": "",
    "text": "4.1 A biological example to get us started",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#the-tidyverse",
    "href": "Tidyverse.html#the-tidyverse",
    "title": "4  Tidyverse",
    "section": "5.10 The tidyverse",
    "text": "5.10 The tidyverse\nA collection of packages particularly helpful for working with tables.\n\ndplyr - manipulating data frames\nggplot2 - data visualization\nreadr - importing data\nstringr - string manipulation\nlubridate - dates and times\npurrr package for working with functions",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#the-tidyverse-1",
    "href": "Tidyverse.html#the-tidyverse-1",
    "title": "4  Tidyverse",
    "section": "5.11 The tidyverse",
    "text": "5.11 The tidyverse\nLoad the main packages like this:\n\nlibrary(tidyverse)",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tidy-data",
    "href": "Tidyverse.html#tidy-data",
    "title": "4  Tidyverse",
    "section": "5.12 Tidy data",
    "text": "5.12 Tidy data\n\nEach row represents one observation\nColumns represent the different variables",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tidy-data-1",
    "href": "Tidyverse.html#tidy-data-1",
    "title": "4  Tidyverse",
    "section": "5.13 Tidy data",
    "text": "5.13 Tidy data\nThe murders dataset is an example of a tidy data frame.\n\nlibrary(dslabs)\ndata(murders)\nhead(murders)\n\n       state abb region population total\n1    Alabama  AL  South    4779736   135\n2     Alaska  AK   West     710231    19\n3    Arizona  AZ   West    6392017   232\n4   Arkansas  AR  South    2915918    93\n5 California  CA   West   37253956  1257\n6   Colorado  CO   West    5029196    65",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#wide-data",
    "href": "Tidyverse.html#wide-data",
    "title": "4  Tidyverse",
    "section": "5.14 Wide data",
    "text": "5.14 Wide data\nThis is not tidy:\n\n\n      country 1960 1961 1962 1963 1964 1965\n1     Germany 2.41 2.44 2.47 2.49 2.49 2.48\n2 South Korea 6.16 5.99 5.79 5.57 5.36 5.16\n\n\nLater we learn how to wrangle into tidy format.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tidy-data-2",
    "href": "Tidyverse.html#tidy-data-2",
    "title": "4  Tidyverse",
    "section": "5.15 Tidy data",
    "text": "5.15 Tidy data\nSame information in tidy format.\n\n\n       country year fertility\n1      Germany 1960      2.41\n2  South Korea 1960      6.16\n3      Germany 1961      2.44\n4  South Korea 1961      5.99\n5      Germany 1962      2.47\n6  South Korea 1962      5.79\n7      Germany 1963      2.49\n8  South Korea 1963      5.57\n9      Germany 1964      2.49\n10 South Korea 1964      5.36\n11     Germany 1965      2.48\n12 South Korea 1965      5.16",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#manipulating-data-frames-with-dplyr",
    "href": "Tidyverse.html#manipulating-data-frames-with-dplyr",
    "title": "4  Tidyverse",
    "section": "5.16 Manipulating data frames with dplyr",
    "text": "5.16 Manipulating data frames with dplyr\n\nmutate - change or add columns\n\nfilter- filter rows based on a rule\nselect - Subset the data by selecting specific columns",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#adding-a-column-with-mutate",
    "href": "Tidyverse.html#adding-a-column-with-mutate",
    "title": "4  Tidyverse",
    "section": "5.17 Adding a column with mutate",
    "text": "5.17 Adding a column with mutate\n\ndata(\"murders\")\nmurders &lt;- mutate(murders, rate = total / population * 100000)\n\nNotice that here we used total and population inside the function, which are objects that are not defined in our workspace.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#adding-a-column-with-mutate-1",
    "href": "Tidyverse.html#adding-a-column-with-mutate-1",
    "title": "4  Tidyverse",
    "section": "5.18 Adding a column with mutate",
    "text": "5.18 Adding a column with mutate\nWe can see the new column now\n\nhead(murders)\n\n       state abb region population total     rate\n1    Alabama  AL  South    4779736   135 2.824424\n2     Alaska  AK   West     710231    19 2.675186\n3    Arizona  AZ   West    6392017   232 3.629527\n4   Arkansas  AR  South    2915918    93 3.189390\n5 California  CA   West   37253956  1257 3.374138\n6   Colorado  CO   West    5029196    65 1.292453",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#subsetting-with-filter",
    "href": "Tidyverse.html#subsetting-with-filter",
    "title": "4  Tidyverse",
    "section": "5.19 Subsetting with filter",
    "text": "5.19 Subsetting with filter\n\nfilter(murders, rate &lt;= 0.71)\n\n          state abb        region population total      rate\n1        Hawaii  HI          West    1360301     7 0.5145920\n2          Iowa  IA North Central    3046355    21 0.6893484\n3 New Hampshire  NH     Northeast    1316470     5 0.3798036\n4  North Dakota  ND North Central     672591     4 0.5947151\n5       Vermont  VT     Northeast     625741     2 0.3196211",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#selecting-columns-with-select",
    "href": "Tidyverse.html#selecting-columns-with-select",
    "title": "4  Tidyverse",
    "section": "5.20 Selecting columns with select",
    "text": "5.20 Selecting columns with select\n\nnew_table &lt;- select(murders, state, region, rate)\nfilter(new_table, rate &lt;= 0.71)\n\n          state        region      rate\n1        Hawaii          West 0.5145920\n2          Iowa North Central 0.6893484\n3 New Hampshire     Northeast 0.3798036\n4  North Dakota North Central 0.5947151\n5       Vermont     Northeast 0.3196211",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#the-pipe",
    "href": "Tidyverse.html#the-pipe",
    "title": "4  Tidyverse",
    "section": "5.21 The pipe: %>%",
    "text": "5.21 The pipe: %&gt;%\n\\[ \\mbox{original data }\n\\rightarrow \\mbox{ select }\n\\rightarrow \\mbox{ filter } \\]",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#the-pipe-1",
    "href": "Tidyverse.html#the-pipe-1",
    "title": "4  Tidyverse",
    "section": "5.22 The pipe: %>%",
    "text": "5.22 The pipe: %&gt;%\nWhen using the pipe, functions take left hand side as first argumemt:\n\nmurders %&gt;% select(state, region, rate) %&gt;% filter(rate &lt;= 0.71)\n\n          state        region      rate\n1        Hawaii          West 0.5145920\n2          Iowa North Central 0.6893484\n3 New Hampshire     Northeast 0.3798036\n4  North Dakota North Central 0.5947151\n5       Vermont     Northeast 0.3196211",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#more-pipe-example",
    "href": "Tidyverse.html#more-pipe-example",
    "title": "4  Tidyverse",
    "section": "5.23 More pipe example",
    "text": "5.23 More pipe example\n\nsqrt(16)\n\n[1] 4\n\n16 %&gt;% sqrt()\n\n[1] 4\n\n\n\nlog2(sqrt(16))\n\n[1] 2\n\n16 %&gt;% sqrt() %&gt;% log2()\n\n[1] 2",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#example-use-arguments-with-pipe",
    "href": "Tidyverse.html#example-use-arguments-with-pipe",
    "title": "4  Tidyverse",
    "section": "5.24 Example: Use arguments with pipe",
    "text": "5.24 Example: Use arguments with pipe\n\n16 %&gt;% sqrt() %&gt;% log(base = 2)\n\n[1] 2",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#pipe-example",
    "href": "Tidyverse.html#pipe-example",
    "title": "4  Tidyverse",
    "section": "5.25 Pipe example",
    "text": "5.25 Pipe example\n\nmurders %&gt;% \n  select(state, region, rate) %&gt;% \n  filter(rate &lt;= 0.71)",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#summarizing-data",
    "href": "Tidyverse.html#summarizing-data",
    "title": "4  Tidyverse",
    "section": "5.26 Summarizing data",
    "text": "5.26 Summarizing data\nSummarizing variables is very common operation.\nAverage female heights:\n\ndata(heights)\ns &lt;- heights %&gt;% \n  filter(sex == \"Female\") %&gt;%\n  summarize(average = mean(height))",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tidyverse-always-returns-tables",
    "href": "Tidyverse.html#tidyverse-always-returns-tables",
    "title": "4  Tidyverse",
    "section": "5.27 Tidyverse always returns tables",
    "text": "5.27 Tidyverse always returns tables\n\ns$average\n\n[1] 64.93942",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#summarizing-data-1",
    "href": "Tidyverse.html#summarizing-data-1",
    "title": "4  Tidyverse",
    "section": "5.28 Summarizing data",
    "text": "5.28 Summarizing data\nYou can compute more than one summary\n\ndata(heights)\nheights %&gt;% \n  filter(sex == \"Female\") %&gt;%\n  summarize(median = median(height), \n            q25 = quantile(height, .25),\n            q75 = quantile(height, .75))\n\n    median q25 q75\n1 64.98031  63  67",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#summarize-only-wors-with-one-variable-summaries",
    "href": "Tidyverse.html#summarize-only-wors-with-one-variable-summaries",
    "title": "4  Tidyverse",
    "section": "5.29 Summarize only wors with one variable summaries",
    "text": "5.29 Summarize only wors with one variable summaries\nYou can compute more than one summary\n\ndata(heights)\nheights %&gt;% \n  filter(sex == \"Female\") %&gt;%\n  summarize(qs = quantile(height, c(1,2,3) / 4))\n\nError in summarise_impl(.data, dots) : \n  Column `qs` must be length 1 (a summary value), not 3",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#pull",
    "href": "Tidyverse.html#pull",
    "title": "4  Tidyverse",
    "section": "5.30 pull",
    "text": "5.30 pull\nThe us_murder_rate object defined above represents just one number. Yet we are storing it in a data frame:\n\ns &lt;- heights %&gt;% \n  filter(sex == \"Female\") %&gt;%\n  summarize(average = mean(height))\nclass(s)\n\n[1] \"data.frame\"",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#pull-1",
    "href": "Tidyverse.html#pull-1",
    "title": "4  Tidyverse",
    "section": "5.31 pull",
    "text": "5.31 pull\n\ns %&gt;% pull(average)\n\n[1] 64.93942",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#group-then-summarize",
    "href": "Tidyverse.html#group-then-summarize",
    "title": "4  Tidyverse",
    "section": "5.32 Group then summarize",
    "text": "5.32 Group then summarize\n\nheights %&gt;% group_by(sex)\n\n# A tibble: 1,050 × 2\n# Groups:   sex [2]\n   sex    height\n   &lt;fct&gt;   &lt;dbl&gt;\n 1 Male       75\n 2 Male       70\n 3 Male       68\n 4 Male       74\n 5 Male       61\n 6 Female     65\n 7 Female     66\n 8 Female     62\n 9 Female     66\n10 Male       67\n# ℹ 1,040 more rows\n\n\n\nThe result does not look very different from heights, except we see Groups: sex [2] when we print the object.\nAlthough not immediately obvious from its appearance, this is now a special data frame called a grouped data frame",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#group-then-summarize-1",
    "href": "Tidyverse.html#group-then-summarize-1",
    "title": "4  Tidyverse",
    "section": "5.33 Group then summarize",
    "text": "5.33 Group then summarize\n\nheights %&gt;% \n  group_by(sex) %&gt;%\n  summarize(average = mean(height), sd = sd(height))\n\n# A tibble: 2 × 3\n  sex    average    sd\n  &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt;\n1 Female    64.9  3.76\n2 Male      69.3  3.61",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#the-dot-operator",
    "href": "Tidyverse.html#the-dot-operator",
    "title": "4  Tidyverse",
    "section": "5.34 The dot operator",
    "text": "5.34 The dot operator\n\nWhen using the pipe, the object being passed by the expression on the left side of the pipe can be accessed via .\nHere is an example that is equivalent to pull:\n\n\ns %&gt;% .$average\n\n[1] 64.93942",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#do",
    "href": "Tidyverse.html#do",
    "title": "4  Tidyverse",
    "section": "5.35 do",
    "text": "5.35 do\n\nWe saw that summarize does not permit the use of functions that return more than one scaler\nOne way to apply such function is with do\nThink of do as a connection between R base and the tidyverse.\nGeneral idea, write a function that returns what you want in a data frame, then call it with do.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#do-1",
    "href": "Tidyverse.html#do-1",
    "title": "4  Tidyverse",
    "section": "5.36 do",
    "text": "5.36 do\n\nqs &lt;- function(x){\n  res &lt;- quantile(x,  c(1,2,3) / 4)\n  data_frame(q25 = res[1], median = res[2],  q75 = res[3])\n}\nheights %&gt;% \n  group_by(sex) %&gt;%\n  do(qs(.$height))\n\nWarning: `data_frame()` was deprecated in tibble 1.1.0.\nℹ Please use `tibble()` instead.\n\n\n# A tibble: 2 × 4\n# Groups:   sex [2]\n  sex      q25 median   q75\n  &lt;fct&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;\n1 Female    63   65.0    67\n2 Male      67   69      72",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#sorting-data-frames",
    "href": "Tidyverse.html#sorting-data-frames",
    "title": "4  Tidyverse",
    "section": "5.37 Sorting data frames",
    "text": "5.37 Sorting data frames\n\nmurders %&gt;%\n  arrange(population) %&gt;%\n  head()\n\n                 state abb        region population total       rate\n1              Wyoming  WY          West     563626     5  0.8871131\n2 District of Columbia  DC         South     601723    99 16.4527532\n3              Vermont  VT     Northeast     625741     2  0.3196211\n4         North Dakota  ND North Central     672591     4  0.5947151\n5               Alaska  AK          West     710231    19  2.6751860\n6         South Dakota  SD North Central     814180     8  0.9825837",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#sorting-data-frames-1",
    "href": "Tidyverse.html#sorting-data-frames-1",
    "title": "4  Tidyverse",
    "section": "5.38 Sorting data frames",
    "text": "5.38 Sorting data frames\n\nmurders %&gt;% \n  arrange(rate) %&gt;% \n  head()\n\n          state abb        region population total      rate\n1       Vermont  VT     Northeast     625741     2 0.3196211\n2 New Hampshire  NH     Northeast    1316470     5 0.3798036\n3        Hawaii  HI          West    1360301     7 0.5145920\n4  North Dakota  ND North Central     672591     4 0.5947151\n5          Iowa  IA North Central    3046355    21 0.6893484\n6         Idaho  ID          West    1567582    12 0.7655102",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#sorting-data-frames-2",
    "href": "Tidyverse.html#sorting-data-frames-2",
    "title": "4  Tidyverse",
    "section": "5.39 Sorting data frames",
    "text": "5.39 Sorting data frames\n\nmurders %&gt;% \n  arrange(desc(rate)) %&gt;% \n  head()\n\n                 state abb        region population total      rate\n1 District of Columbia  DC         South     601723    99 16.452753\n2            Louisiana  LA         South    4533372   351  7.742581\n3             Missouri  MO North Central    5988927   321  5.359892\n4             Maryland  MD         South    5773552   293  5.074866\n5       South Carolina  SC         South    4625364   207  4.475323\n6             Delaware  DE         South     897934    38  4.231937",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#nested-sorting",
    "href": "Tidyverse.html#nested-sorting",
    "title": "4  Tidyverse",
    "section": "5.40 Nested sorting",
    "text": "5.40 Nested sorting\n\nmurders %&gt;% \n  arrange(region, rate) %&gt;% \n  head()\n\n          state abb    region population total      rate\n1       Vermont  VT Northeast     625741     2 0.3196211\n2 New Hampshire  NH Northeast    1316470     5 0.3798036\n3         Maine  ME Northeast    1328361    11 0.8280881\n4  Rhode Island  RI Northeast    1052567    16 1.5200933\n5 Massachusetts  MA Northeast    6547629   118 1.8021791\n6      New York  NY Northeast   19378102   517 2.6679599",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#the-top-n",
    "href": "Tidyverse.html#the-top-n",
    "title": "4  Tidyverse",
    "section": "5.41 The top \\(n\\)",
    "text": "5.41 The top \\(n\\)\n\nmurders %&gt;% top_n(10, rate)\n\n                  state abb        region population total      rate\n1               Arizona  AZ          West    6392017   232  3.629527\n2              Delaware  DE         South     897934    38  4.231937\n3  District of Columbia  DC         South     601723    99 16.452753\n4               Georgia  GA         South    9920000   376  3.790323\n5             Louisiana  LA         South    4533372   351  7.742581\n6              Maryland  MD         South    5773552   293  5.074866\n7              Michigan  MI North Central    9883640   413  4.178622\n8           Mississippi  MS         South    2967297   120  4.044085\n9              Missouri  MO North Central    5988927   321  5.359892\n10       South Carolina  SC         South    4625364   207  4.475323",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tibbles",
    "href": "Tidyverse.html#tibbles",
    "title": "4  Tidyverse",
    "section": "5.42 Tibbles",
    "text": "5.42 Tibbles\n\ndata(murders)\nclass(murders)\n\n[1] \"data.frame\"\n\n\n\nRemember group_by permits stratifying data before computing summary statistics.\nBut where is the group information stored in the data frame?",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tibbles-1",
    "href": "Tidyverse.html#tibbles-1",
    "title": "4  Tidyverse",
    "section": "5.43 Tibbles",
    "text": "5.43 Tibbles\n\nmurders %&gt;% group_by(region) %&gt;% head()\n\n# A tibble: 6 × 5\n# Groups:   region [2]\n  state      abb   region population total\n  &lt;chr&gt;      &lt;chr&gt; &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt;\n1 Alabama    AL    South     4779736   135\n2 Alaska     AK    West       710231    19\n3 Arizona    AZ    West      6392017   232\n4 Arkansas   AR    South     2915918    93\n5 California CA    West     37253956  1257\n6 Colorado   CO    West      5029196    65",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tibbles-2",
    "href": "Tidyverse.html#tibbles-2",
    "title": "4  Tidyverse",
    "section": "5.44 Tibbles",
    "text": "5.44 Tibbles\n\nmurders %&gt;% group_by(region) %&gt;% class()\n\n[1] \"grouped_df\" \"tbl_df\"     \"tbl\"        \"data.frame\"",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tibles-versus-data-frames",
    "href": "Tidyverse.html#tibles-versus-data-frames",
    "title": "4  Tidyverse",
    "section": "5.45 Tibles versus data frames",
    "text": "5.45 Tibles versus data frames\n\nTibbles display better\nSubsets of tibbles are tibbles\n\n\nclass(murders[,4])\n\n[1] \"numeric\"\n\nclass(as_tibble(murders)[,4])\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tibles-versus-data-frames-1",
    "href": "Tidyverse.html#tibles-versus-data-frames-1",
    "title": "4  Tidyverse",
    "section": "5.46 Tibles versus data frames",
    "text": "5.46 Tibles versus data frames\n\nmurders$Population\n\nNULL\n\nas_tibble(murders)$Population\n\nWarning: Unknown or uninitialised column: `Population`.\n\n\nNULL",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tibles-versus-data-frames-2",
    "href": "Tidyverse.html#tibles-versus-data-frames-2",
    "title": "4  Tidyverse",
    "section": "5.47 Tibles versus data frames",
    "text": "5.47 Tibles versus data frames\n\nTibbles can have complex entries\n\n\ntibble(id = c(1, 2, 3), func = c(mean, median, sd))\n\n# A tibble: 3 × 2\n     id func  \n  &lt;dbl&gt; &lt;list&gt;\n1     1 &lt;fn&gt;  \n2     2 &lt;fn&gt;  \n3     3 &lt;fn&gt;",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tibles-versus-data-frames-3",
    "href": "Tidyverse.html#tibles-versus-data-frames-3",
    "title": "4  Tidyverse",
    "section": "5.48 Tibles versus data frames",
    "text": "5.48 Tibles versus data frames\n\nTibbles can be grouped",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#create-a-tibble-using-data_frame",
    "href": "Tidyverse.html#create-a-tibble-using-data_frame",
    "title": "4  Tidyverse",
    "section": "5.49 Create a tibble using data_frame",
    "text": "5.49 Create a tibble using data_frame\n\ngrades &lt;- data_frame(names = c(\"John\", \"Juan\", \"Jean\", \"Yao\"), \n                     exam_1 = c(95, 80, 90, 85), \n                     exam_2 = c(90, 85, 85, 90))\ngrades\n\n# A tibble: 4 × 3\n  names exam_1 exam_2\n  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n1 John      95     90\n2 Juan      80     85\n3 Jean      90     85\n4 Yao       85     90",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#another-difference",
    "href": "Tidyverse.html#another-difference",
    "title": "4  Tidyverse",
    "section": "5.50 Another difference",
    "text": "5.50 Another difference\n\ngrades &lt;- data.frame(names = c(\"John\", \"Juan\", \"Jean\", \"Yao\"), \n                     exam_1 = c(95, 80, 90, 85), \n                     exam_2 = c(90, 85, 85, 90))\nclass(grades$names)\n\n[1] \"character\"",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#another-difference-1",
    "href": "Tidyverse.html#another-difference-1",
    "title": "4  Tidyverse",
    "section": "5.51 Another difference",
    "text": "5.51 Another difference\n\nTo avoid this, we use the rather cumbersome argument stringsAsFactors:\n\n\ngrades &lt;- data.frame(names = c(\"John\", \"Juan\", \"Jean\", \"Yao\"), \n                     exam_1 = c(95, 80, 90, 85), \n                     exam_2 = c(90, 85, 85, 90),\n                     stringsAsFactors = FALSE)\nclass(grades$names)\n\n[1] \"character\"",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#conver-to-tibble",
    "href": "Tidyverse.html#conver-to-tibble",
    "title": "4  Tidyverse",
    "section": "5.52 Conver to tibble",
    "text": "5.52 Conver to tibble\n\nas_tibble(grades) %&gt;% class()\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#conditionals",
    "href": "Tidyverse.html#conditionals",
    "title": "4  Tidyverse",
    "section": "5.53 Conditionals",
    "text": "5.53 Conditionals\n\nYou should be familiar with the ifelse function. But let’s review it as it is very useful in the tidyverse\nifelse vectorizes conditional assignments. Here is an example\n\n\nx &lt;- seq(-5, 5)\nifelse(x&gt;0, \"positive\", \"non-positive\")\n\n [1] \"non-positive\" \"non-positive\" \"non-positive\" \"non-positive\" \"non-positive\"\n [6] \"non-positive\" \"positive\"     \"positive\"     \"positive\"     \"positive\"    \n[11] \"positive\"",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#conditionals-1",
    "href": "Tidyverse.html#conditionals-1",
    "title": "4  Tidyverse",
    "section": "5.54 Conditionals",
    "text": "5.54 Conditionals\n\nThe tidyverse offers another useful tool: case_when\n\n\nx &lt;- seq(-5, 5)\ncase_when(x &gt; 0 ~ \"positive\",\n          x &lt; 0 ~ \"negative\",\n          TRUE ~ \"zero\")\n\n [1] \"negative\" \"negative\" \"negative\" \"negative\" \"negative\" \"zero\"    \n [7] \"positive\" \"positive\" \"positive\" \"positive\" \"positive\"",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#remapping",
    "href": "Tidyverse.html#remapping",
    "title": "4  Tidyverse",
    "section": "5.55 Remapping",
    "text": "5.55 Remapping\nThe recode function is a related useful function for dealing with factor names.\n\nx &lt;- seq(-5, 5)\nrecode(sign(x), \"1\" = \"positive\", \"0\" = \"zero\", \"-1\" = \"nonpositive\")\n\n [1] \"nonpositive\" \"nonpositive\" \"nonpositive\" \"nonpositive\" \"nonpositive\"\n [6] \"zero\"        \"positive\"    \"positive\"    \"positive\"    \"positive\"   \n[11] \"positive\"   \n\n\nMainly useful for changing codes to actual meaningful level names.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Git_GitHub.html",
    "href": "Git_GitHub.html",
    "title": "5  Git and GitHub",
    "section": "",
    "text": "5.1 Introduction\nHere we provide some details on Git and GitHub. However, we are only scratching the surface. To learn more about this topic, we highly recommend the following resources:",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Git and GitHub</span>"
    ]
  },
  {
    "objectID": "Git_GitHub.html#introduction",
    "href": "Git_GitHub.html#introduction",
    "title": "5  Git and GitHub",
    "section": "",
    "text": "Codeacademy: https://www.codecademy.com/learn/learn-git\nGitHub Guides: https://guides.github.com/activities/hello-world/\nTry Git tutorial: https://try.github.io/levels/1/challenges/1\nHappy Git and GitHub for the useR: http://happygitwithr.com/",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Git and GitHub</span>"
    ]
  },
  {
    "objectID": "Git_GitHub.html#why-use-git-and-github",
    "href": "Git_GitHub.html#why-use-git-and-github",
    "title": "5  Git and GitHub",
    "section": "5.2 Why use Git and GitHub?",
    "text": "5.2 Why use Git and GitHub?\nThere are three main reasons to use Git and GitHub.\n\nSharing: Even if we do not take advantage of the advanced and powerful version control functionality, we can still use Git and GitHub to share our code.\nCollaborating: Once you set up a central repo, you can have multiple people make changes to code and keep versions synched. GitHub provides a free service for centralized repos. GitHub also has a special utility, called a pull request, that can be used by anybody to suggest changes to your code. You can easily either accept or deny the request.\nVersion control: The version control capabilities of Git permit us to keep track of changes we make to our code. We can also revert back to previous versions of files. Git also permits us to create branches in which we can test out ideas, then decide if we merge the new branch with the original.\n\nHere we focus on the sharing aspects of Git and GitHub and refer the reader to the links above to learn more about this powerful tool.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Git and GitHub</span>"
    ]
  },
  {
    "objectID": "Git_GitHub.html#github-accounts",
    "href": "Git_GitHub.html#github-accounts",
    "title": "5  Git and GitHub",
    "section": "5.3 GitHub accounts",
    "text": "5.3 GitHub accounts\nAfter installing git1, the first step is to get a GitHub account. Basic GitHub accounts are free. To do this, go to GitHub where you will see a box in which you can sign up.\nOnce you have a GitHub account, you are ready to connect Git and RStudio to this account.\nA first step is to let Git know who we are. This will make it easier to connect with GitHub. We start by opening a terminal window in RStudio (remember you can get one through Tools in the menu bar). Now we use the git config command to tell Git who we are. We will type the following two commands in our terminal window:\n\ngit config --global user.name \"Your Name\"\ngit config --global user.mail \"your@email.com\"",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Git and GitHub</span>"
    ]
  },
  {
    "objectID": "Git_GitHub.html#github-repos",
    "href": "Git_GitHub.html#github-repos",
    "title": "5  Git and GitHub",
    "section": "5.4 GitHub repositories",
    "text": "5.4 GitHub repositories\nYou are now ready to create a GitHub repository (repo). The general idea is that you will have at least two copies of your code: one on your computer and one on GitHub. If you add collaborators to this project, then each will have a copy on their computer. The GitHub copy is usually considered the master copy that each collaborator syncs to. Git will help you keep all the different copies synced.\nAs mentioned, one of the advantages of keeping code on a GitHub repository is that you can easily share it with potential employers interested in seeing examples of your work. Because many data science companies use version control systems, like Git, to collaborate on projects, they might also be impressed that you already know at least the basics.\nThe first step in creating a repo for your code is to initialize on GitHub. Because you already created an account, you will have a page on GitHub with the URL http://github.com/username.\nTo create a repo, first log in to your account by clicking the Sign In button on https://github.com. You might already be signed in, in which case the Sign In button will not show up.\nOnce on your account, you can click on Repositories and then click on New to create a new repo:\nYou will then want to choose a good descriptive name for the project. In the future, you might have dozens of repos so keep that in mind when choosing a name. Here we will use homework-0. We recommend you make the repo public. If you want to keep it private, you will have to pay a monthly charge.\nYou now have your first repo on GitHub. The next step will be to clone it on your computer and start editing and syncing using Git.\nTo do this, it is convenient to copy the link provided by GitHub specifically to connect to this repo, using Git as shown below. We will later need to copy and paste this so make sure to remember this step.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Git and GitHub</span>"
    ]
  },
  {
    "objectID": "Git_GitHub.html#git-overview",
    "href": "Git_GitHub.html#git-overview",
    "title": "5  Git and GitHub",
    "section": "5.5 Overview of Git",
    "text": "5.5 Overview of Git\nThe main actions in Git are to:\n\npull changes from the remote repo, in this case the GitHub repo\nadd files, or as we say in the Git lingo stage files\ncommit changes to the local repo\npush changes to the remote repo, in our case the GitHub repo\n\nTo effectively permit version control and collaboration in Git, files move across four different areas:\n\nBut how does it all get started? There are two ways: we can clone an existing repo or initialize one. We will explore cloning first.\n\n5.5.1 Clone\nWe are going to clone an existing Upstream Repository. You can see it on GitHub here: https://github.com/rairizarry/murders. By visiting this page, you can see multiple files and directories. This is the Upstream Repository. By clicking the green clone button, we can copy the repo’s URL https://github.com/rairizarry/murders.git.\nBut what does clone mean? Rather than download all these files to your computer, we are going to actually copy the entire Git structure, which means we will add the files and directories to each of the three local stages: Working Directory, Staging Area, and Local Repository. When you clone, all three are exactly the same to start.\nYou can quickly see an example of this by doing the following. Open a terminal and type:\n\npwd\nmkdir git-example\ncd git-example\ngit clone https://github.com/rairizarry/murders.git\ncd murders\n\n/Users/wcresko/Desktop/BioE_R_book\nmkdir: git-example: File exists\nfatal: destination path 'murders' already exists and is not an empty directory.\n\n\nYou now have cloned a GitHub repo and have a working Git directory, with all the files, on your system.\n\nls\n\n_book\n_quarto.yml\nBioE_Stat_Rscripts.Rproj\ncover.png\ndocs\nGit_GitHub_files\nGit_GitHub.html\nGit_GitHub.qmd\nGit_GitHub.rmarkdown\ngit-example\nimages\nindex.qmd\nintro.qmd\nnew-file.txt\nR_basics.qmd\nreferences.bib\nreferences.qmd\nsummary.qmd\nTidyverse.qmd\ntmp.txt\n\n\n\nThe Working Directory is the same as your Unix working directory. When you edit files using an editor such as RStudio, you change the files in this area and only in this area. Git can tell you how these files relate to the versions of the files in other areas with the command git status:\n\nIf you check the status now, you will see that nothing has changed and you get the following message:\n\ngit status\n\nOn branch main\nYour branch is ahead of 'origin/main' by 9 commits.\n  (use \"git push\" to publish your local commits)\n\nChanges not staged for commit:\n  (use \"git add &lt;file&gt;...\" to update what will be committed)\n  (use \"git restore &lt;file&gt;...\" to discard changes in working directory)\n    modified:   _quarto.yml\n    modified:   docs/index.html\n\nUntracked files:\n  (use \"git add &lt;file&gt;...\" to include in what will be committed)\n    Git_GitHub.html\n    Git_GitHub.qmd\n    Git_GitHub.rmarkdown\n    Git_GitHub_files/\n    docs/Git_GitHub.html\n    git-example/\n    tmp.txt\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n\n\nNow we are going to make changes to these files. Eventually, we want these new versions of the files to be tracked and synched with the upstream repo. But we don’t want to keep track of every little change: we don’t want to sync until we are sure these versions are final enough to share. For this reason, edits in the staging area are not kept by the version control system.\nTo demonstrate, we add a file to the staging area with the git add command. Below we create a file using the Unix echo command just as an example (in reality you would use RStudio):\n\necho \"test\" &gt;&gt; new-file.txt\n\nWe are also adding a temporary file that we do not want to track at all:\n\necho \"temporary\" &gt;&gt; tmp.txt\n\nNow we can stage the file we eventually want to add to our repository:\n\ngit add new-file.txt\n\nNotice what the status says now:\n\ngit status\n\nOn branch main\nYour branch is ahead of 'origin/main' by 9 commits.\n  (use \"git push\" to publish your local commits)\n\nChanges to be committed:\n  (use \"git restore --staged &lt;file&gt;...\" to unstage)\n    modified:   new-file.txt\n\nChanges not staged for commit:\n  (use \"git add &lt;file&gt;...\" to update what will be committed)\n  (use \"git restore &lt;file&gt;...\" to discard changes in working directory)\n    modified:   _quarto.yml\n    modified:   docs/index.html\n\nUntracked files:\n  (use \"git add &lt;file&gt;...\" to include in what will be committed)\n    Git_GitHub.html\n    Git_GitHub.qmd\n    Git_GitHub.rmarkdown\n    Git_GitHub_files/\n    docs/Git_GitHub.html\n    git-example/\n    tmp.txt\n\n\n\nBecause new-file.txt is staged, the current version of the file will get added to the local repository next time we commit, which we do as follows:\n\ngit commit -m \"adding a new file\" \n\n[main 3097f96] adding a new file\n 1 file changed, 1 insertion(+)\n\n\nWe have now changed the local repo, which you can confirm using\n\ngit status\n\n\nHowever, if we edit that file again, it changes only in the working directory. To add to the local repo, we need to stage it and commit the changes that are added to the local repo:\n\necho \"adding a line\" &gt;&gt; new-file.txt\ngit add new-file.txt\ngit commit -m \"adding a new line to new-file\"\n\n[main 0cca4b3] adding a new line to new-file\n 1 file changed, 1 insertion(+)\n\n\nNote that this step is often unnecessary in our uses of Git. We can skip the staging part if we add the file name to the commit command like this:\n\necho \"adding a second line\" &gt;&gt; new-file.txt\ngit commit -m \"minor change to new-file\" new-file.txt\n\n[main e147469] minor change to new-file\n 1 file changed, 1 insertion(+)\n\n\nWe can keep track of all the changes we have made with:\n\ngit log new-file.txt\n\ncommit e1474696a0e3a50f687ce04e78401f6bd9e2ea31\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:39:36 2025 -0700\n\n    minor change to new-file\n\ncommit 0cca4b3c95f82eaece94176d62b9cb93b0902c1c\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:39:36 2025 -0700\n\n    adding a new line to new-file\n\ncommit 3097f96acbf4e93997275c73acb0e230d5328d20\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:39:36 2025 -0700\n\n    adding a new file\n\ncommit dede17a4cd172f0d755497d7bbd7c570b9b45852\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:36:40 2025 -0700\n\n    minor change to new-file\n\ncommit 07c800c4c7091842f8099f430d9b7f3b283d8640\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:36:40 2025 -0700\n\n    adding a new line to new-file\n\ncommit 07ae6be63a7f5f5055ae5dd5848210a757c044f2\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:36:40 2025 -0700\n\n    adding a new file\n\ncommit 10c4ba7c0f45cf55b1ab16a64aa4e2aee2130d4f\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:34:45 2025 -0700\n\n    minor change to new-file\n\ncommit b189a01863d757e7aec2f8e9d4933d68e1618084\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:34:45 2025 -0700\n\n    adding a new line to new-file\n\ncommit 1b9acc3dd809cb98de26c8fc1cbab8466073c4d8\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:34:45 2025 -0700\n\n    adding a new file\n\ncommit 07d82026672391cf032c3d92536179eda9573302\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:33:08 2025 -0700\n\n    minor change to new-file\n\ncommit 086049bef667d122333856f6d928ee5f74c4d810\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:33:08 2025 -0700\n\n    adding a new line to new-file\n\ncommit 74f2cdb3c73b697106cf1b6b3727bda0c88acd76\nAuthor: wcresko &lt;wcresko@uoregon.edu&gt;\nDate:   Mon Apr 21 10:33:08 2025 -0700\n\n    adding a new file\n\n\nTo keep everything synced, the final step is to push the changes to the upstream repo. This is done with the git push command like this:\n\ngit push\n\n\nHowever, in this particular example, you will not be able to do this because you do not have permission to edit the upstream repo. If this was your repo, you could.\nIf this is a collaborative project, the upstream repo may change and become different than our version. To update our local repository to be like the upstream repo, we use the command fetch:\n\ngit fetch\n\n\nAnd then to make these copies to the staging and working directory areas, we use the command:\n\ngit merge\n\n\nHowever, we often just want to change both with one command. For this, we use:\n\ngit pull\n\n\nWe will learn in Section @ref(rstudio-git) how RStudio has buttons to do all this. The details provided here should help you understand what happens in the background.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Git and GitHub</span>"
    ]
  },
  {
    "objectID": "Git_GitHub.html#init",
    "href": "Git_GitHub.html#init",
    "title": "5  Git and GitHub",
    "section": "5.6 Initializing a Git directory",
    "text": "5.6 Initializing a Git directory\nNow let’s learn the second way we can get started: by initializing a directory on our own computer rather than cloning.\nSuppose we already have a populated local directory and we want to turn this directory into a collaborative GitHub repository. The most efficient way of achieving this is by initializing the local directory.\nTo demonstrate how to do this we will initialize the gun murders directory we created in Section @ref(prep-project). Note that we already created a directory with several subdirectories on our computer but we do not yet have a Git local repo or GitHub upstream repo.\nWe start by creating a new repo on our GitHub page. We click on the New button:\nAt this moment, we can start a terminal and cd into our local projects directory. In our example, it would be:\n\ncd ~/projects/murders\n\nWe then intialize the directory. This turns the directory into a Git directory and Git starts tracking:\n\ngit init\n\nAll the files are now only in our working directory; no files are in our local repo or on GitHub.\nThe next step is to connect the local repo with the GitHub repo. In a previous example, we had RStudio do this for us. Now we need to do it ourselves. We can by adding any of the files and committing it:\n\ngit add README.txt\ngit commit -m \"First commit. Adding README.txt file just to get started\"\n\nWe now have a file in our local repo and can connect it to the upstream repo, which has url: https://github.com/rairizarry/murders.git.\nTo do this, we use the command git remote add.\n\ngit remote add origin `https://github.com/rairizarry/murders.git`\n\nWe can now use git push since there is a connection to an upstream repo:\n\ngit push\n\nIn Section @ref(organizing) we continue to work with this example, as we demonstrate how we can use RStudio to work with Git and keep a project synced on GitHub.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Git and GitHub</span>"
    ]
  },
  {
    "objectID": "Git_GitHub.html#rstudio-git",
    "href": "Git_GitHub.html#rstudio-git",
    "title": "5  Git and GitHub",
    "section": "5.7 Using Git and GitHub in RStudio",
    "text": "5.7 Using Git and GitHub in RStudio\nWhile command line Git is a powerful and flexible tool, it can be somewhat daunting when we are getting started. RStudio provides a graphical interface that facilitates the use of Git in the context of a data analysis project. We describe how to use this RStudio feature to do this here.\nNow we are ready to start an RStudio project that uses version control and stores the code on a GitHub repo. To do this, we start a project but, instead of New Directory, we will select Version Control and then we will select Git as our version control system:\nThe repository URL is the link you used to clone. In Section @ref(github-repos), we used https://github.com/username/homework-0.git as an example. In the project directory name, you need to put the name of the folder that was generated, which in our example will be the name of the repo homework-0. This will create a folder called homework-0 on your local system. Once you do this, the project is created and it is aware of the connection to a GitHub repo. You will see on the top right corner the name and type of project as well as a new tab on the upper right pane titled Git.\n! If you select this tab, it will show you the files on your project with some icons that give you information about these files and their relationship to the repo. In the example below, we already added a file to the folder, called code.R which you can see in the editing pane.\nWe now need to pay attention to the Git pane. It is important to know that your local files and the GitHub repo will not be synced automatically. As described in Section @ref(git-overview), you have to sync using git push when you are ready. We show you can do this through RStudio rather than the terminal below.\nBefore we start working on a collaborative project, usually the first thing we do is pull in the changes from the remote repo, in our case the one on GitHub. However, for the example shown here, since we are starting with an empty repo and we are the only ones making changes, we don’t need to start by pulling.\nIn RStudio, the status of the file as it relates to the remote and local repos are represented in the status symbols with colors. A yellow square means that Git knows nothing about this file. To sync with the GitHub repo, we need to add the file, then commit the change to our local Git repo, then push the change to the GitHub repo. Right now, the file is just on our computer. To add the file using RStudio, we click the Stage box. You will see that the status icon now changes to a green A.\nNote: we are only adding the code.R file. We don’t necessarily need to add all the files in our local repo to the GitHub repo, only the ones we want to keep track of or the ones we want to share. If our work is producing files of a certain type that we do not want to keep track of, we can add the suffix that defines these files to the .gitignore file. More details on using .gitignore are included here: https://git-scm.com/docs/gitignore. These files will stop appearing in your RStudio Git pane. For the example shown here, we will only be adding code.R. But, in general, for an RStudio project, we recommend adding both the .gitignore and .Rproj files.\nNow we are ready to commit the file to our local repo. In RStudio, we can use the Commit button. This will open a new dialog window. With Git, whenever we commit a change, we are required to enter a comment describing the changes being committed.\nIn this case, we will simply describe that we are adding a new script. In this dialog box, RStudio also gives you a summary of what you are changing to the GitHub repo. In this case, because it is a new file, the entire file is highlighted as green, which highlights the changes.\nOnce we hit the commit button, we should see a message from Git with a summary of the changes that were committed. Now we are ready to push these changes to the GitHub repo. We can do this by clicking on the Push button on the top right corner:\nWe now see a message from Git letting us know that the push has succeeded. In the pop-up window we no longer see the code.R file. This is because no new changes have been performed since we last pushed. We can exit this pop-up window now and continue working on our code.\nIf we now visit our repo on the web, we will see that it matches our local copy.\nCongratulations, you have successfully shared code on a GitHub repository!\nhttps://learngitbranching.js.org/",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Git and GitHub</span>"
    ]
  },
  {
    "objectID": "Git_GitHub.html#clone-the-repository",
    "href": "Git_GitHub.html#clone-the-repository",
    "title": "5  Git and GitHub",
    "section": "5.8 Clone the repository",
    "text": "5.8 Clone the repository\n\nFirst make a new directory into which you will clone our course repository\n\nThis will prevent you from overwriting any of the documents you have have edited\nAnd it’s good practice to do it again\n\nYou should work through the terminal application and use Unix to do this\nOpen the terminal and navigate to your new directory and type the following:\n\n\ngit clone https://github.com/wcresko/evomics_stat_2019.git",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Git and GitHub</span>"
    ]
  },
  {
    "objectID": "Git_GitHub.html#update-the-repository",
    "href": "Git_GitHub.html#update-the-repository",
    "title": "5  Git and GitHub",
    "section": "5.9 Update the repository",
    "text": "5.9 Update the repository\n\nNow to update the repository you just need to use these commands\n\n\ngit status\ngit fetch\ngit status\ngit merge origin/master\n\n\nThe first command just tells you if anything has changed\n\nIf so, do the second!\nThis is much safer than git pull",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Git and GitHub</span>"
    ]
  },
  {
    "objectID": "Git_GitHub.html#footnotes",
    "href": "Git_GitHub.html#footnotes",
    "title": "5  Git and GitHub",
    "section": "",
    "text": "https://rafalab.github.io/dsbook/accessing-the-terminal-and-installing-git.html↩︎",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Git and GitHub</span>"
    ]
  },
  {
    "objectID": "R_basics.html#case-study-us-gun-murders",
    "href": "R_basics.html#case-study-us-gun-murders",
    "title": "2  R basics",
    "section": "6.41 Case study: US Gun Murders",
    "text": "6.41 Case study: US Gun Murders\nImagine you live in Europe and are offered a job in a US company with many locations across all states. It is a great job, but news with headlines such as US Gun Homicide Rate Higher Than Other Developed Countries3 have you worried. Charts like this may concern you even more:\nOr even worse, this version from everytown.org:\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.4     ✔ tibble    3.2.1\n✔ purrr     1.0.4     ✔ tidyr     1.3.1\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\n\n\n\n\n\n\n\n\nBut then you remember that the US is a large and diverse country with 50 very different states as well as the District of Columbia (DC).\n\n\nWarning: The `guide` argument in `scale_*()` cannot be `FALSE`. This was deprecated in\nggplot2 3.3.4.\nℹ Please use \"none\" instead.\n\n\n\n\n\n\n\n\n\nCalifornia, for example, has a larger population than Canada, and 20 US states have populations larger than that of Norway. In some respects, the variability across states in the US is akin to the variability across countries in Europe. Furthermore, although not included in the charts above, the murder rates in Lithuania, Ukraine, and Russia are higher than 4 per 100,000. So perhaps the news reports that worried you are too superficial. You have options of where to live and want to determine the safety of each particular state. We will gain some insights by examining data related to gun homicides in the US during 2010 using R.\nBefore we get started with our example, we need to cover logistics as well as some of the very basic building blocks that are required to gain more advanced R skills. Be aware that the usefulness of some of these building blocks may not be immediately obvious, but later in the book you will appreciate having mastered these skills.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#the-very-basics",
    "href": "R_basics.html#the-very-basics",
    "title": "2  R basics",
    "section": "6.42 The very basics",
    "text": "6.42 The very basics\nBefore we get started with the motivating dataset, we need to cover the very basics of R.\n\n6.42.1 Objects\nSuppose a high school student asks us for help solving several quadratic equations of the form \\(ax^2+bx+c = 0\\). The quadratic formula gives us the solutions:\n\\[\n\\frac{-b - \\sqrt{b^2 - 4ac}}{2a}\\,\\, \\mbox{ and } \\frac{-b + \\sqrt{b^2 - 4ac}}{2a}\n\\] which of course change depending on the values of \\(a\\), \\(b\\), and \\(c\\). One advantage of programming languages is that we can define variables and write expressions with these variables, similar to how we do so in math, but obtain a numeric solution. We will write out general code for the quadratic equation below, but if we are asked to solve \\(x^2 + x -1 = 0\\), then we define:\n\na &lt;- 1\nb &lt;- 1\nc &lt;- -1\n\nwhich stores the values for later use. We use &lt;- to assign values to the variables.\nWe can also assign values using = instead of &lt;-, but we recommend against using = to avoid confusion.\nCopy and paste the code above into your console to define the three variables. Note that R does not print anything when we make this assignment. This means the objects were defined successfully. Had you made a mistake, you would have received an error message.\nTo see the value stored in a variable, we simply ask R to evaluate a and it shows the stored value:\n\na\n\n[1] 1\n\n\nA more explicit way to ask R to show us the value stored in a is using print like this:\n\nprint(a)\n\n[1] 1\n\n\nWe use the term object to describe stuff that is stored in R. Variables are examples, but objects can also be more complicated entities such as functions, which are described later.\n\n\n6.42.2 The workspace\nAs we define objects in the console, we are actually changing the workspace. You can see all the variables saved in your workspace by typing:\n\nls()\n\n [1] \"a\"              \"b\"              \"c\"              \"dat\"           \n [5] \"elevation\"      \"habitat\"        \"murders\"        \"mydata\"        \n [9] \"n\"              \"seq_1\"          \"seq_2\"          \"seq_square\"    \n[13] \"seq_square_new\" \"temp\"           \"x\"              \"x_factor\"      \n[17] \"x2\"             \"xy\"             \"y\"              \"y_log\"         \n[21] \"z\"             \n\n\nIn RStudio, the Environment tab shows the values:\n\nWe should see a, b, and c. If you try to recover the value of a variable that is not in your workspace, you receive an error. For example, if you type x you will receive the following message: Error: object 'x' not found.\nNow since these values are saved in variables, to obtain a solution to our equation, we use the quadratic formula:\n\n(-b + sqrt(b^2 - 4*a*c) ) / ( 2*a )\n\n[1] 0.618034\n\n(-b - sqrt(b^2 - 4*a*c) ) / ( 2*a )\n\n[1] -1.618034\n\n\n\n\n6.42.3 Functions\nOnce you define variables, the data analysis process can usually be described as a series of functions applied to the data. R includes several predefined functions and most of the analysis pipelines we construct make extensive use of these.\nWe already used the install.packages, library, and ls functions. We also used the function sqrt to solve the quadratic equation above. There are many more prebuilt functions and even more can be added through packages. These functions do not appear in the workspace because you did not define them, but they are available for immediate use.\nIn general, we need to use parentheses to evaluate a function. If you type ls, the function is not evaluated and instead R shows you the code that defines the function. If you type ls() the function is evaluated and, as seen above, we see objects in the workspace.\nUnlike ls, most functions require one or more arguments. Below is an example of how we assign an object to the argument of the function log. Remember that we earlier defined a to be 1:\n\nlog(8)\n\n[1] 2.079442\n\nlog(a) \n\n[1] 0\n\n\nYou can find out what the function expects and what it does by reviewing the very useful manuals included in R. You can get help by using the help function like this:\n\nhelp(\"log\")\n\nFor most functions, we can also use this shorthand:\n\n?log\n\nThe help page will show you what arguments the function is expecting. For example, log needs x and base to run. However, some arguments are required and others are optional. You can determine which arguments are optional by noting in the help document that a default value is assigned with =. Defining these is optional. For example, the base of the function log defaults to base = exp(1) making log the natural log by default.\nIf you want a quick look at the arguments without opening the help system, you can type:\n\nargs(log)\n\nfunction (x, base = exp(1)) \nNULL\n\n\nYou can change the default values by simply assigning another object:\n\nlog(8, base = 2)\n\n[1] 3\n\n\nNote that we have not been specifying the argument x as such:\n\nlog(x = 8, base = 2)\n\n[1] 3\n\n\nThe above code works, but we can save ourselves some typing: if no argument name is used, R assumes you are entering arguments in the order shown in the help file or by args. So by not using the names, it assumes the arguments are x followed by base:\n\nlog(8,2)\n\n[1] 3\n\n\nIf using the arguments’ names, then we can include them in whatever order we want:\n\nlog(base = 2, x = 8)\n\n[1] 3\n\n\nTo specify arguments, we must use =, and cannot use &lt;-.\nThere are some exceptions to the rule that functions need the parentheses to be evaluated. Among these, the most commonly used are the arithmetic and relational operators. For example:\n\n2 ^ 3\n\n[1] 8\n\n\nYou can see the arithmetic operators by typing:\n\nhelp(\"+\") \n\nor\n\n?\"+\"\n\nand the relational operators by typing:\n\nhelp(\"&gt;\") \n\nor\n\n?\"&gt;\"\n\n\n\n6.42.4 Other prebuilt objects\nThere are several datasets that are included for users to practice and test out functions. You can see all the available datasets by typing:\n\ndata()\n\nThis shows you the object name for these datasets. These datasets are objects that can be used by simply typing the name. For example, if you type:\n\nco2\n\nR will show you Mauna Loa atmospheric CO2 concentration data.\nOther prebuilt objects are mathematical quantities, such as the constant \\(\\pi\\) and \\(\\infty\\):\n\npi\n\n[1] 3.141593\n\nInf+1\n\n[1] Inf\n\n\n\n\n6.42.5 Variable names\nWe have used the letters a, b, and c as variable names, but variable names can be almost anything. Some basic rules in R are that variable names have to start with a letter, can’t contain spaces, and should not be variables that are predefined in R. For example, don’t name one of your variables install.packages by typing something like install.packages &lt;- 2.\nA nice convention to follow is to use meaningful words that describe what is stored, use only lower case, and use underscores as a substitute for spaces. For the quadratic equations, we could use something like this:\n\nsolution_1 &lt;- (-b + sqrt(b^2 - 4*a*c)) / (2*a)\nsolution_2 &lt;- (-b - sqrt(b^2 - 4*a*c)) / (2*a)\n\nFor more advice, we highly recommend studying Hadley Wickham’s style guide4.\n\n\n6.42.6 Saving your workspace\nValues remain in the workspace until you end your session or erase them with the function rm. But workspaces also can be saved for later use. In fact, when you quit R, the program asks you if you want to save your workspace. If you do save it, the next time you start R, the program will restore the workspace.\nWe actually recommend against saving the workspace this way because, as you start working on different projects, it will become harder to keep track of what is saved. Instead, we recommend you assign the workspace a specific name. You can do this by using the function save or save.image. To load, use the function load. When saving a workspace, we recommend the suffix rda or RData. In RStudio, you can also do this by navigating to the Session tab and choosing Save Workspace as. You can later load it using the Load Workspace options in the same tab. You can read the help pages on save, save.image, and load to learn more.\n\n\n6.42.7 Motivating scripts\nTo solve another equation such as \\(3x^2 + 2x -1\\), we can copy and paste the code above and then redefine the variables and recompute the solution:\n\na &lt;- 3\nb &lt;- 2\nc &lt;- -1\n(-b + sqrt(b^2 - 4*a*c)) / (2*a)\n(-b - sqrt(b^2 - 4*a*c)) / (2*a)\n\nBy creating and saving a script with the code above, we would not need to retype everything each time and, instead, simply change the variable names. Try writing the script above into an editor and notice how easy it is to change the variables and receive an answer.\n\n\n6.42.8 Commenting your code\nIf a line of R code starts with the symbol #, it is not evaluated. We can use this to write reminders of why we wrote particular code. For example, in the script above we could add:\n\n## Code to compute solution to quadratic equation of the form ax^2 + bx + c\n## define the variables\na &lt;- 3 \nb &lt;- 2\nc &lt;- -1\n\n## now compute the solution\n(-b + sqrt(b^2 - 4*a*c)) / (2*a)\n(-b - sqrt(b^2 - 4*a*c)) / (2*a)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#exercises",
    "href": "R_basics.html#exercises",
    "title": "2  R basics",
    "section": "6.43 Exercises",
    "text": "6.43 Exercises\n1. What is the sum of the first 100 positive integers? The formula for the sum of integers \\(1\\) through \\(n\\) is \\(n(n+1)/2\\). Define \\(n=100\\) and then use R to compute the sum of \\(1\\) through \\(100\\) using the formula. What is the sum?\n2. Now use the same formula to compute the sum of the integers from 1 through 1,000.\n3. Look at the result of typing the following code into R:\n\nn &lt;- 1000\nx &lt;- seq(1, n)\nsum(x)\n\nBased on the result, what do you think the functions seq and sum do? You can use help.\n\nsum creates a list of numbers and seq adds them up.\nseq creates a list of numbers and sum adds them up.\nseq creates a random list and sum computes the sum of 1 through 1,000.\nsum always returns the same number.\n\n4. In math and programming, we say that we evaluate a function when we replace the argument with a given number. So if we type sqrt(4), we evaluate the sqrt function. In R, you can evaluate a function inside another function. The evaluations happen from the inside out. Use one line of code to compute the log, in base 10, of the square root of 100.\n5. Which of the following will always return the numeric value stored in x? You can try out examples and use the help system if you want.\n\nlog(10^x)\nlog10(x^10)\nlog(exp(x))\nexp(log(x, base = 2))",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#data-types",
    "href": "R_basics.html#data-types",
    "title": "2  R basics",
    "section": "6.44 Data types",
    "text": "6.44 Data types\nVariables in R can be of different types. For example, we need to distinguish numbers from character strings and tables from simple lists of numbers. The function class helps us determine what type of object we have:\n\na &lt;- 2\nclass(a)\n\n[1] \"numeric\"\n\n\nTo work efficiently in R, it is important to learn the different types of variables and what we can do with these.\n\n6.44.1 Data frames\nUp to now, the variables we have defined are just one number. This is not very useful for storing data. The most common way of storing a dataset in R is in a data frame. Conceptually, we can think of a data frame as a table with rows representing observations and the different variables reported for each observation defining the columns. Data frames are particularly useful for datasets because we can combine different data types into one object.\nA large proportion of data analysis challenges start with data stored in a data frame. For example, we stored the data for our motivating example in a data frame. You can access this dataset by loading the dslabs library and loading the murders dataset using the data function:\n\nlibrary(dslabs)\ndata(murders)\n\nTo see that this is in fact a data frame, we type:\n\nclass(murders)\n\n[1] \"data.frame\"\n\n\n\n\n6.44.2 Examining an object\nThe function str is useful for finding out more about the structure of an object:\n\nstr(murders)\n\n'data.frame':   51 obs. of  5 variables:\n$ state : chr \"Alabama\" \"Alaska\" \"Arizona\" \"Arkansas\" ...\n$ abb : chr \"AL\" \"AK\" \"AZ\" \"AR\" ...\n$ region : Factor w/ 4 levels \"Northeast\",\"South\",..: 2 4 4 2 4 4 1 2 2 2 ...\n$ population: num 4779736 710231 6392017 2915918 37253956 ...\n$ total : num 135 19 232 93 1257 ...\n\n\nThis tells us much more about the object. We see that the table has 51 rows (50 states plus DC) and five variables. We can show the first six lines using the function head:\n\nhead(murders)\n\n       state abb region population total\n1    Alabama  AL  South    4779736   135\n2     Alaska  AK   West     710231    19\n3    Arizona  AZ   West    6392017   232\n4   Arkansas  AR  South    2915918    93\n5 California  CA   West   37253956  1257\n6   Colorado  CO   West    5029196    65\n\n\nIn this dataset, each state is considered an observation and five variables are reported for each state.\nBefore we go any further in answering our original question about different states, let’s learn more about the components of this object.\n\n\n6.44.3 The accessor: $\nFor our analysis, we will need to access the different variables represented by columns included in this data frame. To do this, we use the accessor operator $ in the following way:\n\nmurders$population\n\n [1]  4779736   710231  6392017  2915918 37253956  5029196  3574097   897934\n [9]   601723 19687653  9920000  1360301  1567582 12830632  6483802  3046355\n[17]  2853118  4339367  4533372  1328361  5773552  6547629  9883640  5303925\n[25]  2967297  5988927   989415  1826341  2700551  1316470  8791894  2059179\n[33] 19378102  9535483   672591 11536504  3751351  3831074 12702379  1052567\n[41]  4625364   814180  6346105 25145561  2763885   625741  8001024  6724540\n[49]  1852994  5686986   563626\n\n\nBut how did we know to use population? Previously, by applying the function str to the object murders, we revealed the names for each of the five variables stored in this table. We can quickly access the variable names using:\n\nnames(murders)\n\n[1] \"state\"      \"abb\"        \"region\"     \"population\" \"total\"     \n\n\nIt is important to know that the order of the entries in murders$population preserves the order of the rows in our data table. This will later permit us to manipulate one variable based on the results of another. For example, we will be able to order the state names by the number of murders.\nTip: R comes with a very nice auto-complete functionality that saves us the trouble of typing out all the names. Try typing murders$p then hitting the tab key on your keyboard. This functionality and many other useful auto-complete features are available when working in RStudio.\n\n\n6.44.4 Vectors: numerics, characters, and logical\nThe object murders$population is not one number but several. We call these types of objects vectors. A single number is technically a vector of length 1, but in general we use the term vectors to refer to objects with several entries. The function length tells you how many entries are in the vector:\n\npop &lt;- murders$population\nlength(pop)\n\n[1] 51\n\n\nThis particular vector is numeric since population sizes are numbers:\n\nclass(pop)\n\n[1] \"numeric\"\n\n\nIn a numeric vector, every entry must be a number.\nTo store character strings, vectors can also be of class character. For example, the state names are characters:\n\nclass(murders$state)\n\n[1] \"character\"\n\n\nAs with numeric vectors, all entries in a character vector need to be a character.\nAnother important type of vectors are logical vectors. These must be either TRUE or FALSE.\n\nz &lt;- 3 == 2\nz\n\n[1] FALSE\n\nclass(z)\n\n[1] \"logical\"\n\n\nHere the == is a relational operator asking if 3 is equal to 2. In R, if you just use one =, you actually assign a variable, but if you use two == you test for equality.\nYou can see the other relational operators by typing:\n\n?Comparison\n\nIn future sections, you will see how useful relational operators can be.\nWe discuss more important features of vectors after the next set of exercises.\nAdvanced: Mathematically, the values in pop are integers and there is an integer class in R. However, by default, numbers are assigned class numeric even when they are round integers. For example, class(1) returns numeric. You can turn them into class integer with the as.integer() function or by adding an L like this: 1L. Note the class by typing: class(1L)\n\n\n6.44.5 Factors\nIn the murders dataset, we might expect the region to also be a character vector. However, it is not:\n\nclass(murders$region)\n\n[1] \"factor\"\n\n\nIt is a factor. Factors are useful for storing categorical data. We can see that there are only 4 regions by using the levels function:\n\nlevels(murders$region)\n\n[1] \"Northeast\"     \"South\"         \"North Central\" \"West\"         \n\n\nIn the background, R stores these levels as integers and keeps a map to keep track of the labels. This is more memory efficient than storing all the characters.\nNote that the levels have an order that is different from the order of appearance in the factor object. The default is for the levels to follow alphabetical order. However, often we want the levels to follow a different order. We will see several examples of this in the Data Visualization part of the book. The function reorder lets us change the order of the levels of a factor variable based on a summary computed on a numeric vector. We will demonstrate this with a simple example.\nSuppose we want the levels of the region by the total number of murders rather than alphabetical order. If there are values associated with each level, we can use the reorder and specify a data summary to determine the order. The following code takes the sum of the total murders in each region, and reorders the factor following these sums.\n\nregion &lt;- murders$region\nvalue &lt;- murders$total\nregion &lt;- reorder(region, value, FUN = sum)\nlevels(region)\n\n[1] \"Northeast\"     \"North Central\" \"West\"          \"South\"        \n\n\nThe new order is in agreement with the fact that the Northeast has the least murders and the South has the most.\nWarning: Factors can be a source of confusion since sometimes they behave like characters and sometimes they do not. As a result, confusing factors and characters are a common source of bugs.\n\n\n6.44.6 Lists\nData frames are a special case of lists. We will cover lists in more detail later, but know that they are useful because you can store any combination of different types. Below is an example of a list we created for you:\n\nrecord\n\n$name\n[1] \"John Doe\"\n\n$student_id\n[1] 1234\n\n$grades\n[1] 95 82 91 97 93\n\n$final_grade\n[1] \"A\"\n\nclass(record)\n\n[1] \"list\"\n\n\nAs with data frames, you can extract the components of a list with the accessor $. In fact, data frames are a type of list.\n\nrecord$student_id\n\n[1] 1234\n\n\nWe can also use double square brackets ([[) like this:\n\nrecord[[\"student_id\"]]\n\n[1] 1234\n\n\nYou should get used to the fact that in R, there are often several ways to do the same thing, such as accessing entries.\nYou might also encounter lists without variable names.\n\nrecord2\n\n[[1]]\n[1] \"John Doe\"\n\n[[2]]\n[1] 1234\n\n\nIf a list does not have names, you cannot extract the elements with $, but you can still use the brackets method and instead of providing the variable name, you provide the list index, like this:\n\nrecord2[[1]]\n\n[1] \"John Doe\"\n\n\nWe won’t be using lists until later, but you might encounter one in your own exploration of R. For this reason, we show you some basics here.\n\n\n6.44.7 Matrices\nMatrices are another type of object that are common in R. Matrices are similar to data frames in that they are two-dimensional: they have rows and columns. However, like numeric, character and logical vectors, entries in matrices have to be all the same type. For this reason data frames are much more useful for storing data, since we can have characters, factors, and numbers in them.\nYet matrices have a major advantage over data frames: we can perform matrix algebra operations, a powerful type of mathematical technique. We do not describe these operations in this book, but much of what happens in the background when you perform a data analysis involves matrices. We cover matrices in more detail in Chapter @ref(matrix-algebra) but describe them briefly here since some of the functions we will learn return matrices.\nWe can define a matrix using the matrix function. We need to specify the number of rows and columns.\n\nmat &lt;- matrix(1:12, 4, 3)\nmat\n\n     [,1] [,2] [,3]\n[1,]    1    5    9\n[2,]    2    6   10\n[3,]    3    7   11\n[4,]    4    8   12\n\n\nYou can access specific entries in a matrix using square brackets ([). If you want the second row, third column, you use:\n\nmat[2, 3]\n\n[1] 10\n\n\nIf you want the entire second row, you leave the column spot empty:\n\nmat[2, ]\n\n[1]  2  6 10\n\n\nNotice that this returns a vector, not a matrix.\nSimilarly, if you want the entire third column, you leave the row spot empty:\n\nmat[, 3]\n\n[1]  9 10 11 12\n\n\nThis is also a vector, not a matrix.\nYou can access more than one column or more than one row if you like. This will give you a new matrix.\n\nmat[, 2:3]\n\n     [,1] [,2]\n[1,]    5    9\n[2,]    6   10\n[3,]    7   11\n[4,]    8   12\n\n\nYou can subset both rows and columns:\n\nmat[1:2, 2:3]\n\n     [,1] [,2]\n[1,]    5    9\n[2,]    6   10\n\n\nWe can convert matrices into data frames using the function as.data.frame:\n\nas.data.frame(mat)\n\n  V1 V2 V3\n1  1  5  9\n2  2  6 10\n3  3  7 11\n4  4  8 12\n\n\nYou can also use single square brackets ([) to access rows and columns of a data frame:\n\ndata(\"murders\")\nmurders[25, 1]\n\n[1] \"Mississippi\"\n\nmurders[2:3, ]\n\n    state abb region population total\n2  Alaska  AK   West     710231    19\n3 Arizona  AZ   West    6392017   232",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#exercises-1",
    "href": "R_basics.html#exercises-1",
    "title": "2  R basics",
    "section": "6.45 Exercises",
    "text": "6.45 Exercises\n1. Load the US murders dataset.\n\nlibrary(dslabs)\ndata(murders)\n\nUse the function str to examine the structure of the murders object. Which of the following best describes the variables represented in this data frame?\n\nThe 51 states.\nThe murder rates for all 50 states and DC.\nThe state name, the abbreviation of the state name, the state’s region, and the state’s population and total number of murders for 2010.\nstr shows no relevant information.\n\n2. What are the column names used by the data frame for these five variables?\n3. Use the accessor $ to extract the state abbreviations and assign them to the object a. What is the class of this object?\n4. Now use the square brackets to extract the state abbreviations and assign them to the object b. Use the identical function to determine if a and b are the same.\n5. We saw that the region column stores a factor. You can corroborate this by typing:\n\nclass(murders$region)\n\nWith one line of code, use the function levels and length to determine the number of regions defined by this dataset.\n6. The function table takes a vector and returns the frequency of each element. You can quickly see how many states are in each region by applying this function. Use this function in one line of code to create a table of states per region.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#vectors-2",
    "href": "R_basics.html#vectors-2",
    "title": "2  R basics",
    "section": "6.46 Vectors",
    "text": "6.46 Vectors\nIn R, the most basic objects available to store data are vectors. As we have seen, complex datasets can usually be broken down into components that are vectors. For example, in a data frame, each column is a vector. Here we learn more about this important class.\n\n6.46.1 Creating vectors\nWe can create vectors using the function c, which stands for concatenate. We use c to concatenate entries in the following way:\n\ncodes &lt;- c(380, 124, 818)\ncodes\n\n[1] 380 124 818\n\n\nWe can also create character vectors. We use the quotes to denote that the entries are characters rather than variable names.\n\ncountry &lt;- c(\"italy\", \"canada\", \"egypt\")\n\nIn R you can also use single quotes:\n\ncountry &lt;- c('italy', 'canada', 'egypt')\n\nBut be careful not to confuse the single quote ’ with the back quote `.\nBy now you should know that if you type:\n\ncountry &lt;- c(italy, canada, egypt)\n\nyou receive an error because the variables italy, canada, and egypt are not defined. If we do not use the quotes, R looks for variables with those names and returns an error.\n\n\n6.46.2 Names\nSometimes it is useful to name the entries of a vector. For example, when defining a vector of country codes, we can use the names to connect the two:\n\ncodes &lt;- c(italy = 380, canada = 124, egypt = 818)\ncodes\n\n italy canada  egypt \n   380    124    818 \n\n\nThe object codes continues to be a numeric vector:\n\nclass(codes)\n\n[1] \"numeric\"\n\n\nbut with names:\n\nnames(codes)\n\n[1] \"italy\"  \"canada\" \"egypt\" \n\n\nIf the use of strings without quotes looks confusing, know that you can use the quotes as well:\n\ncodes &lt;- c(\"italy\" = 380, \"canada\" = 124, \"egypt\" = 818)\ncodes\n\n italy canada  egypt \n   380    124    818 \n\n\nThere is no difference between this function call and the previous one. This is one of the many ways in which R is quirky compared to other languages.\nWe can also assign names using the names functions:\n\ncodes &lt;- c(380, 124, 818)\ncountry &lt;- c(\"italy\",\"canada\",\"egypt\")\nnames(codes) &lt;- country\ncodes\n\n italy canada  egypt \n   380    124    818 \n\n\n\n\n6.46.3 Sequences\nAnother useful function for creating vectors generates sequences:\n\nseq(1, 10)\n\n [1]  1  2  3  4  5  6  7  8  9 10\n\n\nThe first argument defines the start, and the second defines the end which is included. The default is to go up in increments of 1, but a third argument lets us tell it how much to jump by:\n\nseq(1, 10, 2)\n\n[1] 1 3 5 7 9\n\n\nIf we want consecutive integers, we can use the following shorthand:\n\n1:10\n\n [1]  1  2  3  4  5  6  7  8  9 10\n\n\nWhen we use these functions, R produces integers, not numerics, because they are typically used to index something:\n\nclass(1:10)\n\n[1] \"integer\"\n\n\nHowever, if we create a sequence including non-integers, the class changes:\n\nclass(seq(1, 10, 0.5))\n\n[1] \"numeric\"\n\n\n\n\n6.46.4 Subsetting\nWe use square brackets to access specific elements of a vector. For the vector codes we defined above, we can access the second element using:\n\ncodes[2]\n\ncanada \n   124 \n\n\nYou can get more than one entry by using a multi-entry vector as an index:\n\ncodes[c(1,3)]\n\nitaly egypt \n  380   818 \n\n\nThe sequences defined above are particularly useful if we want to access, say, the first two elements:\n\ncodes[1:2]\n\n italy canada \n   380    124 \n\n\nIf the elements have names, we can also access the entries using these names. Below are two examples.\n\ncodes[\"canada\"]\n\ncanada \n   124 \n\ncodes[c(\"egypt\",\"italy\")]\n\negypt italy \n  818   380",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#coercion",
    "href": "R_basics.html#coercion",
    "title": "2  R basics",
    "section": "6.47 Coercion",
    "text": "6.47 Coercion\nIn general, coercion is an attempt by R to be flexible with data types. When an entry does not match the expected, some of the prebuilt R functions try to guess what was meant before throwing an error. This can also lead to confusion. Failing to understand coercion can drive programmers crazy when attempting to code in R since it behaves quite differently from most other languages in this regard. Let’s learn about it with some examples.\nWe said that vectors must be all of the same type. So if we try to combine, say, numbers and characters, you might expect an error:\n\nx &lt;- c(1, \"canada\", 3)\n\nBut we don’t get one, not even a warning! What happened? Look at x and its class:\n\nx\n\n[1] \"1\"      \"canada\" \"3\"     \n\nclass(x)\n\n[1] \"character\"\n\n\nR coerced the data into characters. It guessed that because you put a character string in the vector, you meant the 1 and 3 to actually be character strings \"1\" and “3”. The fact that not even a warning is issued is an example of how coercion can cause many unnoticed errors in R.\nR also offers functions to change from one type to another. For example, you can turn numbers into characters with:\n\nx &lt;- 1:5\ny &lt;- as.character(x)\ny\n\n[1] \"1\" \"2\" \"3\" \"4\" \"5\"\n\n\nYou can turn it back with as.numeric:\n\nas.numeric(y)\n\n[1] 1 2 3 4 5\n\n\nThis function is actually quite useful since datasets that include numbers as character strings are common.\n\n6.47.1 Not availables (NA)\nWhen a function tries to coerce one type to another and encounters an impossible case, it usually gives us a warning and turns the entry into a special value called an NA for “not available”. For example:\n\nx &lt;- c(\"1\", \"b\", \"3\")\nas.numeric(x)\n\nWarning: NAs introduced by coercion\n\n\n[1]  1 NA  3\n\n\nR does not have any guesses for what number you want when you type b, so it does not try.\nAs a data scientist you will encounter the NAs often as they are generally used for missing data, a common problem in real-world datasets.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#exercises-2",
    "href": "R_basics.html#exercises-2",
    "title": "2  R basics",
    "section": "6.48 Exercises",
    "text": "6.48 Exercises\n1. Use the function c to create a vector with the average high temperatures in January for Beijing, Lagos, Paris, Rio de Janeiro, San Juan, and Toronto, which are 35, 88, 42, 84, 81, and 30 degrees Fahrenheit. Call the object temp.\n2. Now create a vector with the city names and call the object city.\n3. Use the names function and the objects defined in the previous exercises to associate the temperature data with its corresponding city.\n4. Use the [ and : operators to access the temperature of the first three cities on the list.\n5. Use the [ operator to access the temperature of Paris and San Juan.\n6. Use the : operator to create a sequence of numbers \\(12,13,14,\\dots,73\\).\n7. Create a vector containing all the positive odd numbers smaller than 100.\n8. Create a vector of numbers that starts at 6, does not pass 55, and adds numbers in increments of 4/7: 6, 6 + 4/7, 6 + 8/7, and so on. How many numbers does the list have? Hint: use seq and length.\n9. What is the class of the following object a &lt;- seq(1, 10, 0.5)?\n10. What is the class of the following object a &lt;- seq(1, 10)?\n11. The class of class(a&lt;-1) is numeric, not integer. R defaults to numeric and to force an integer, you need to add the letter L. Confirm that the class of 1L is integer.\n12. Define the following vector:\n\nx &lt;- c(\"1\", \"3\", \"5\")\n\nand coerce it to get integers.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#sorting",
    "href": "R_basics.html#sorting",
    "title": "2  R basics",
    "section": "6.49 Sorting",
    "text": "6.49 Sorting\nNow that we have mastered some basic R knowledge, let’s try to gain some insights into the safety of different states in the context of gun murders.\n\n6.49.1 sort\nSay we want to rank the states from least to most gun murders. The function sort sorts a vector in increasing order. We can therefore see the largest number of gun murders by typing:\n\nlibrary(dslabs)\ndata(murders)\nsort(murders$total)\n\n [1]    2    4    5    5    7    8   11   12   12   16   19   21   22   27   32\n[16]   36   38   53   63   65   67   84   93   93   97   97   99  111  116  118\n[31]  120  135  142  207  219  232  246  250  286  293  310  321  351  364  376\n[46]  413  457  517  669  805 1257\n\n\nHowever, this does not give us information about which states have which murder totals. For example, we don’t know which state had 1257.\n\n\n6.49.2 order\nThe function order is closer to what we want. It takes a vector as input and returns the vector of indexes that sorts the input vector. This may sound confusing so let’s look at a simple example. We can create a vector and sort it:\n\nx &lt;- c(31, 4, 15, 92, 65)\nsort(x)\n\n[1]  4 15 31 65 92\n\n\nRather than sort the input vector, the function order returns the index that sorts input vector:\n\nindex &lt;- order(x)\nx[index]\n\n[1]  4 15 31 65 92\n\n\nThis is the same output as that returned by sort(x). If we look at this index, we see why it works:\n\nx\n\n[1] 31  4 15 92 65\n\norder(x)\n\n[1] 2 3 1 5 4\n\n\nThe second entry of x is the smallest, so order(x) starts with 2. The next smallest is the third entry, so the second entry is 3 and so on.\nHow does this help us order the states by murders? First, remember that the entries of vectors you access with $ follow the same order as the rows in the table. For example, these two vectors containing state names and abbreviations, respectively, are matched by their order:\n\nmurders$state[1:6]\n\n[1] \"Alabama\"    \"Alaska\"     \"Arizona\"    \"Arkansas\"   \"California\"\n[6] \"Colorado\"  \n\nmurders$abb[1:6]\n\n[1] \"AL\" \"AK\" \"AZ\" \"AR\" \"CA\" \"CO\"\n\n\nThis means we can order the state names by their total murders. We first obtain the index that orders the vectors according to murder totals and then index the state names vector:\n\nind &lt;- order(murders$total) \nmurders$abb[ind] \n\n [1] \"VT\" \"ND\" \"NH\" \"WY\" \"HI\" \"SD\" \"ME\" \"ID\" \"MT\" \"RI\" \"AK\" \"IA\" \"UT\" \"WV\" \"NE\"\n[16] \"OR\" \"DE\" \"MN\" \"KS\" \"CO\" \"NM\" \"NV\" \"AR\" \"WA\" \"CT\" \"WI\" \"DC\" \"OK\" \"KY\" \"MA\"\n[31] \"MS\" \"AL\" \"IN\" \"SC\" \"TN\" \"AZ\" \"NJ\" \"VA\" \"NC\" \"MD\" \"OH\" \"MO\" \"LA\" \"IL\" \"GA\"\n[46] \"MI\" \"PA\" \"NY\" \"FL\" \"TX\" \"CA\"\n\n\nAccording to the above, California had the most murders.\n\n\n6.49.3 max and which.max\nIf we are only interested in the entry with the largest value, we can use max for the value:\n\nmax(murders$total)\n\n[1] 1257\n\n\nand which.max for the index of the largest value:\n\ni_max &lt;- which.max(murders$total)\nmurders$state[i_max]\n\n[1] \"California\"\n\n\nFor the minimum, we can use min and which.min in the same way.\nDoes this mean California is the most dangerous state? In an upcoming section, we argue that we should be considering rates instead of totals. Before doing that, we introduce one last order-related function: rank.\n\n\n6.49.4 rank\nAlthough not as frequently used as order and sort, the function rank is also related to order and can be useful. For any given vector it returns a vector with the rank of the first entry, second entry, etc., of the input vector. Here is a simple example:\n\nx &lt;- c(31, 4, 15, 92, 65)\nrank(x)\n\n[1] 3 1 2 5 4\n\n\nTo summarize, let’s look at the results of the three functions we have introduced:\n\n\n\n\n\noriginal\nsort\norder\nrank\n\n\n\n\n31\n4\n2\n3\n\n\n4\n15\n3\n1\n\n\n15\n31\n1\n2\n\n\n92\n65\n5\n5\n\n\n65\n92\n4\n4\n\n\n\n\n\n\n\n\n\n6.49.5 Beware of recycling\nAnother common source of unnoticed errors in R is the use of recycling. We saw that vectors are added elementwise. So if the vectors don’t match in length, it is natural to assume that we should get an error. But we don’t. Notice what happens:\n\nx &lt;- c(1,2,3)\ny &lt;- c(10, 20, 30, 40, 50, 60, 70)\nx+y\n\nWarning in x + y: longer object length is not a multiple of shorter object\nlength\n\n\n[1] 11 22 33 41 52 63 71\n\n\nWe do get a warning, but no error. For the output, R has recycled the numbers in x. Notice the last digit of numbers in the output.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#exercises-3",
    "href": "R_basics.html#exercises-3",
    "title": "2  R basics",
    "section": "6.50 Exercises",
    "text": "6.50 Exercises\nFor these exercises we will use the US murders dataset. Make sure you load it prior to starting.\n\nlibrary(dslabs)\ndata(\"murders\")\n\n1. Use the $ operator to access the population size data and store it as the object pop. Then use the sort function to redefine pop so that it is sorted. Finally, use the [ operator to report the smallest population size.\n2. Now instead of the smallest population size, find the index of the entry with the smallest population size. Hint: use order instead of sort.\n3. We can actually perform the same operation as in the previous exercise using the function which.min. Write one line of code that does this.\n4. Now we know how small the smallest state is and we know which row represents it. Which state is it? Define a variable states to be the state names from the murders data frame. Report the name of the state with the smallest population.\n5. You can create a data frame using the data.frame function. Here is a quick example:\n\ntemp &lt;- c(35, 88, 42, 84, 81, 30)\ncity &lt;- c(\"Beijing\", \"Lagos\", \"Paris\", \"Rio de Janeiro\", \n          \"San Juan\", \"Toronto\")\ncity_temps &lt;- data.frame(name = city, temperature = temp)\n\nUse the rank function to determine the population rank of each state from smallest population size to biggest. Save these ranks in an object called ranks, then create a data frame with the state name and its rank. Call the data frame my_df.\n6. Repeat the previous exercise, but this time order my_df so that the states are ordered from least populous to most populous. Hint: create an object ind that stores the indexes needed to order the population values. Then use the bracket operator [ to re-order each column in the data frame.\n7. The na_example vector represents a series of counts. You can quickly examine the object using:\n\ndata(\"na_example\")  \nstr(na_example)\n\n int [1:1000] 2 1 3 2 1 3 1 4 3 2 ...\n\n\nHowever, when we compute the average with the function mean, we obtain an NA:\n\nmean(na_example)\n\n[1] NA\n\n\nThe is.na function returns a logical vector that tells us which entries are NA. Assign this logical vector to an object called ind and determine how many NAs does na_example have.\n8. Now compute the average again, but only for the entries that are not NA. Hint: remember the ! operator.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#vector-arithmetics",
    "href": "R_basics.html#vector-arithmetics",
    "title": "2  R basics",
    "section": "6.51 Vector arithmetics",
    "text": "6.51 Vector arithmetics\nCalifornia had the most murders, but does this mean it is the most dangerous state? What if it just has many more people than any other state? We can quickly confirm that California indeed has the largest population:\n\nlibrary(dslabs)\ndata(\"murders\")\nmurders$state[which.max(murders$population)]\n\n[1] \"California\"\n\n\nwith over 37 million inhabitants. It is therefore unfair to compare the totals if we are interested in learning how safe the state is. What we really should be computing is the murders per capita. The reports we describe in the motivating section used murders per 100,000 as the unit. To compute this quantity, the powerful vector arithmetic capabilities of R come in handy.\n\n6.51.1 Rescaling a vector\nIn R, arithmetic operations on vectors occur element-wise. For a quick example, suppose we have height in inches:\n\ninches &lt;- c(69, 62, 66, 70, 70, 73, 67, 73, 67, 70)\n\nand want to convert to centimeters. Notice what happens when we multiply inches by 2.54:\n\ninches * 2.54\n\n [1] 175.26 157.48 167.64 177.80 177.80 185.42 170.18 185.42 170.18 177.80\n\n\nIn the line above, we multiplied each element by 2.54. Similarly, if for each entry we want to compute how many inches taller or shorter than 69 inches, the average height for males, we can subtract it from every entry like this:\n\ninches - 69\n\n [1]  0 -7 -3  1  1  4 -2  4 -2  1\n\n\n\n\n6.51.2 Two vectors\nIf we have two vectors of the same length, and we sum them in R, they will be added entry by entry as follows:\n\\[\n\\begin{pmatrix}\na\\\\\nb\\\\\nc\\\\\nd\n\\end{pmatrix}\n+\n\\begin{pmatrix}\ne\\\\\nf\\\\\ng\\\\\nh\n\\end{pmatrix}\n=\n\\begin{pmatrix}\na +e\\\\\nb + f\\\\\nc + g\\\\\nd + h\n\\end{pmatrix}\n\\]\nThe same holds for other mathematical operations, such as -, * and /.\nThis implies that to compute the murder rates we can simply type:\n\nmurder_rate &lt;- murders$total / murders$population * 100000\n\nOnce we do this, we notice that California is no longer near the top of the list. In fact, we can use what we have learned to order the states by murder rate:\n\nmurders$abb[order(murder_rate)]\n\n [1] \"VT\" \"NH\" \"HI\" \"ND\" \"IA\" \"ID\" \"UT\" \"ME\" \"WY\" \"OR\" \"SD\" \"MN\" \"MT\" \"CO\" \"WA\"\n[16] \"WV\" \"RI\" \"WI\" \"NE\" \"MA\" \"IN\" \"KS\" \"NY\" \"KY\" \"AK\" \"OH\" \"CT\" \"NJ\" \"AL\" \"IL\"\n[31] \"OK\" \"NC\" \"NV\" \"VA\" \"AR\" \"TX\" \"NM\" \"CA\" \"FL\" \"TN\" \"PA\" \"AZ\" \"GA\" \"MS\" \"MI\"\n[46] \"DE\" \"SC\" \"MD\" \"MO\" \"LA\" \"DC\"",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#exercises-4",
    "href": "R_basics.html#exercises-4",
    "title": "2  R basics",
    "section": "6.52 Exercises",
    "text": "6.52 Exercises\n1. Previously we created this data frame:\n\ntemp &lt;- c(35, 88, 42, 84, 81, 30)\ncity &lt;- c(\"Beijing\", \"Lagos\", \"Paris\", \"Rio de Janeiro\", \n          \"San Juan\", \"Toronto\")\ncity_temps &lt;- data.frame(name = city, temperature = temp)\n\nRemake the data frame using the code above, but add a line that converts the temperature from Fahrenheit to Celsius. The conversion is \\(C = \\frac{5}{9} \\times (F - 32)\\).\n2. What is the following sum \\(1+1/2^2 + 1/3^2 + \\dots 1/100^2\\)? Hint: thanks to Euler, we know it should be close to \\(\\pi^2/6\\).\n3. Compute the per 100,000 murder rate for each state and store it in the object murder_rate. Then compute the average murder rate for the US using the function mean. What is the average?",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#indexing",
    "href": "R_basics.html#indexing",
    "title": "2  R basics",
    "section": "6.53 Indexing",
    "text": "6.53 Indexing\nR provides a powerful and convenient way of indexing vectors. We can, for example, subset a vector based on properties of another vector. In this section, we continue working with our US murders example, which we can load like this:\n\nlibrary(dslabs)\ndata(\"murders\")\n\n\n6.53.1 Subsetting with logicals\nWe have now calculated the murder rate using:\n\nmurder_rate &lt;- murders$total / murders$population * 100000 \n\nImagine you are moving from Italy where, according to an ABC news report, the murder rate is only 0.71 per 100,000. You would prefer to move to a state with a similar murder rate. Another powerful feature of R is that we can use logicals to index vectors. If we compare a vector to a single number, it actually performs the test for each entry. The following is an example related to the question above:\n\nind &lt;- murder_rate &lt; 0.71\n\nIf we instead want to know if a value is less or equal, we can use:\n\nind &lt;- murder_rate &lt;= 0.71\n\nNote that we get back a logical vector with TRUE for each entry smaller than or equal to 0.71. To see which states these are, we can leverage the fact that vectors can be indexed with logicals.\n\nmurders$state[ind]\n\n[1] \"Hawaii\"        \"Iowa\"          \"New Hampshire\" \"North Dakota\" \n[5] \"Vermont\"      \n\n\nIn order to count how many are TRUE, the function sum returns the sum of the entries of a vector and logical vectors get coerced to numeric with TRUE coded as 1 and FALSE as 0. Thus we can count the states using:\n\nsum(ind)\n\n[1] 5\n\n\n\n\n6.53.2 Logical operators\nSuppose we like the mountains and we want to move to a safe state in the western region of the country. We want the murder rate to be at most 1. In this case, we want two different things to be true. Here we can use the logical operator and, which in R is represented with &. This operation results in TRUE only when both logicals are TRUE. To see this, consider this example:\n\nTRUE & TRUE\n\n[1] TRUE\n\nTRUE & FALSE\n\n[1] FALSE\n\nFALSE & FALSE\n\n[1] FALSE\n\n\nFor our example, we can form two logicals:\n\nwest &lt;- murders$region == \"West\"\nsafe &lt;- murder_rate &lt;= 1\n\nand we can use the & to get a vector of logicals that tells us which states satisfy both conditions:\n\nind &lt;- safe & west\nmurders$state[ind]\n\n[1] \"Hawaii\"  \"Idaho\"   \"Oregon\"  \"Utah\"    \"Wyoming\"\n\n\n\n\n6.53.3 which\nSuppose we want to look up California’s murder rate. For this type of operation, it is convenient to convert vectors of logicals into indexes instead of keeping long vectors of logicals. The function which tells us which entries of a logical vector are TRUE. So we can type:\n\nind &lt;- which(murders$state == \"California\")\nmurder_rate[ind]\n\n[1] 3.374138\n\n\n\n\n6.53.4 match\nIf instead of just one state we want to find out the murder rates for several states, say New York, Florida, and Texas, we can use the function match. This function tells us which indexes of a second vector match each of the entries of a first vector:\n\nind &lt;- match(c(\"New York\", \"Florida\", \"Texas\"), murders$state)\nind\n\n[1] 33 10 44\n\n\nNow we can look at the murder rates:\n\nmurder_rate[ind]\n\n[1] 2.667960 3.398069 3.201360\n\n\n\n\n6.53.5 %in%\nIf rather than an index we want a logical that tells us whether or not each element of a first vector is in a second, we can use the function %in%. Let’s imagine you are not sure if Boston, Dakota, and Washington are states. You can find out like this:\n\nc(\"Boston\", \"Dakota\", \"Washington\") %in% murders$state\n\n[1] FALSE FALSE  TRUE\n\n\nNote that we will be using %in% often throughout the book.\nAdvanced: There is a connection between match and %in% through which. To see this, notice that the following two lines produce the same index (although in different order):\n\nmatch(c(\"New York\", \"Florida\", \"Texas\"), murders$state)\n\n[1] 33 10 44\n\nwhich(murders$state%in%c(\"New York\", \"Florida\", \"Texas\"))\n\n[1] 10 33 44",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#exercises-5",
    "href": "R_basics.html#exercises-5",
    "title": "2  R basics",
    "section": "6.54 Exercises",
    "text": "6.54 Exercises\nStart by loading the library and data.\n\nlibrary(dslabs)\ndata(murders)\n\n1. Compute the per 100,000 murder rate for each state and store it in an object called murder_rate. Then use logical operators to create a logical vector named low that tells us which entries of murder_rate are lower than 1.\n2. Now use the results from the previous exercise and the function which to determine the indices of murder_rate associated with values lower than 1.\n3. Use the results from the previous exercise to report the names of the states with murder rates lower than 1.\n4. Now extend the code from exercises 2 and 3 to report the states in the Northeast with murder rates lower than 1. Hint: use the previously defined logical vector low and the logical operator &.\n5. In a previous exercise we computed the murder rate for each state and the average of these numbers. How many states are below the average?\n6. Use the match function to identify the states with abbreviations AK, MI, and IA. Hint: start by defining an index of the entries of murders$abb that match the three abbreviations, then use the [ operator to extract the states.\n7. Use the %in% operator to create a logical vector that answers the question: which of the following are actual abbreviations: MA, ME, MI, MO, MU?\n8. Extend the code you used in exercise 7 to report the one entry that is not an actual abbreviation. Hint: use the ! operator, which turns FALSE into TRUE and vice versa, then which to obtain an index.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#basic-plots",
    "href": "R_basics.html#basic-plots",
    "title": "2  R basics",
    "section": "6.55 Basic plots",
    "text": "6.55 Basic plots\nIn Chapter @ref(ggplot2) we describe an add-on package that provides a powerful approach to producing plots in R. We then have an entire part on Data Visualization in which we provide many examples. Here we briefly describe some of the functions that are available in a basic R installation.\n\n6.55.1 plot\nThe plot function can be used to make scatterplots. Here is a plot of total murders versus population.\n\nx &lt;- murders$population / 10^6\ny &lt;- murders$total\nplot(x, y)\n\n\n\n\n\n\n\n\n\n\nFor a quick plot that avoids accessing variables twice, we can use the with function:\n\nwith(murders, plot(population, total))\n\nThe function with lets us use the murders column names in the plot function. It also works with any data frames and any function.\n\n\n6.55.2 hist\nWe will describe histograms as they relate to distributions in the Data Visualization part of the book. Here we will simply note that histograms are a powerful graphical summary of a list of numbers that gives you a general overview of the types of values you have. We can make a histogram of our murder rates by simply typing:\n\nx &lt;- with(murders, total / population * 100000)\nhist(x)\n\n\n\n\n\n\n\n\n\n\nWe can see that there is a wide range of values with most of them between 2 and 3 and one very extreme case with a murder rate of more than 15:\n\nmurders$state[which.max(x)]\n\n[1] \"District of Columbia\"\n\n\n\n\n6.55.3 boxplot\nBoxplots will also be described in the Data Visualization part of the book. They provide a more terse summary than histograms, but they are easier to stack with other boxplots. For example, here we can use them to compare the different regions:\n\nmurders$rate &lt;- with(murders, total / population * 100000)\nboxplot(rate~region, data = murders)\n\n\n\n\n\n\n\n\n\n\nWe can see that the South has higher murder rates than the other three regions.\n\n\n6.55.4 image\nThe image function displays the values in a matrix using color. Here is a quick example:\n\nx &lt;- matrix(1:120, 12, 10)\nimage(x)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#exercises-6",
    "href": "R_basics.html#exercises-6",
    "title": "2  R basics",
    "section": "6.56 Exercises",
    "text": "6.56 Exercises\n1. We made a plot of total murders versus population and noted a strong relationship. Not surprisingly, states with larger populations had more murders.\n\nlibrary(dslabs)\ndata(murders)\npopulation_in_millions &lt;- murders$population/10^6\ntotal_gun_murders &lt;- murders$total\nplot(population_in_millions, total_gun_murders)\n\nKeep in mind that many states have populations below 5 million and are bunched up. We may gain further insights from making this plot in the log scale. Transform the variables using the log10 transformation and then plot them.\n2. Create a histogram of the state populations.\n3. Generate boxplots of the state populations by region.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#footnotes",
    "href": "R_basics.html#footnotes",
    "title": "2  R basics",
    "section": "",
    "text": "https://rstudio.cloud↩︎\nhttps://rafalab.github.io/dsbook/installing-r-rstudio.html↩︎\nhttp://abcnews.go.com/blogs/headlines/2012/12/us-gun-ownership-homicide-rate-higher-than-other-developed-countries/↩︎\nhttp://adv-r.had.co.nz/Style.html↩︎",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "Programming_Basics.html",
    "href": "Programming_Basics.html",
    "title": "3  Programming Basics",
    "section": "",
    "text": "3.1 Conditional expressions\nConditional expressions are one of the basic features of programming. They are used for what is called flow control. The most common conditional expression is the if-else statement. In R, we can actually perform quite a bit of data analysis without conditionals. However, they do come up occasionally, and you will need them once you start writing your own functions and packages.\nHere is a very simple example showing the general structure of an if-else statement. The basic idea is to print the reciprocal of a unless a is 0:\na &lt;- 0\n\nif(a!=0){\n  print(1/a)\n} else{\n  print(\"No reciprocal for 0.\")\n}\n\n[1] \"No reciprocal for 0.\"\nLet’s look at one more example using the US murders data frame:\nlibrary(dslabs)\ndata(murders)\nmurder_rate &lt;- murders$total / murders$population*100000\nHere is a very simple example that tells us which states, if any, have a murder rate lower than 0.5 per 100,000. The if statement protects us from the case in which no state satisfies the condition.\nind &lt;- which.min(murder_rate)\n\nif(murder_rate[ind] &lt; 0.5){\n  print(murders$state[ind]) \n} else{\n  print(\"No state has murder rate that low\")\n}\n\n[1] \"Vermont\"\nIf we try it again with a rate of 0.25, we get a different answer:\nif(murder_rate[ind] &lt; 0.25){\n  print(murders$state[ind]) \n} else{\n  print(\"No state has a murder rate that low.\")\n}\n\n[1] \"No state has a murder rate that low.\"\nA related function that is very useful is ifelse. This function takes three arguments: a logical and two possible answers. If the logical is TRUE, the value in the second argument is returned and if FALSE, the value in the third argument is returned. Here is an example:\na &lt;- 0\nifelse(a &gt; 0, 1/a, NA)\n\n[1] NA\nThe function is particularly useful because it works on vectors. It examines each entry of the logical vector and returns elements from the vector provided in the second argument, if the entry is TRUE, or elements from the vector provided in the third argument, if the entry is FALSE.\na &lt;- c(0, 1, 2, -4, 5)\nresult &lt;- ifelse(a &gt; 0, 1/a, NA)\nThis table helps us see what happened:\na\nis_a_positive\nanswer1\nanswer2\nresult\n\n\n\n\n0\nFALSE\nInf\nNA\nNA\n\n\n1\nTRUE\n1.00\nNA\n1.0\n\n\n2\nTRUE\n0.50\nNA\n0.5\n\n\n-4\nFALSE\n-0.25\nNA\nNA\n\n\n5\nTRUE\n0.20\nNA\n0.2\nHere is an example of how this function can be readily used to replace all the missing values in a vector with zeros:\ndata(na_example)\nno_nas &lt;- ifelse(is.na(na_example), 0, na_example) \nsum(is.na(no_nas))\n\n[1] 0\nTwo other useful functions are any and all. The any function takes a vector of logicals and returns TRUE if any of the entries is TRUE. The all function takes a vector of logicals and returns TRUE if all of the entries are TRUE. Here is an example:\nz &lt;- c(TRUE, TRUE, FALSE)\nany(z)\n\n[1] TRUE\n\nall(z)\n\n[1] FALSE",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Programming Basics</span>"
    ]
  },
  {
    "objectID": "Programming_Basics.html#defining-functions",
    "href": "Programming_Basics.html#defining-functions",
    "title": "3  Programming Basics",
    "section": "3.2 Defining functions",
    "text": "3.2 Defining functions\nAs you become more experienced, you will find yourself needing to perform the same operations over and over. A simple example is computing averages. We can compute the average of a vector x using the sum and length functions: sum(x)/length(x). Because we do this repeatedly, it is much more efficient to write a function that performs this operation. This particular operation is so common that someone already wrote the mean function and it is included in base R. However, you will encounter situations in which the function does not already exist, so R permits you to write your own. A simple version of a function that computes the average can be defined like this:\n\navg &lt;- function(x){\n  s &lt;- sum(x)\n  n &lt;- length(x)\n  s/n\n}\n\nNow avg is a function that computes the mean:\n\nx &lt;- 1:100\nidentical(mean(x), avg(x))\n\n[1] TRUE\n\n\nNotice that variables defined inside a function are not saved in the workspace. So while we use s and n when we call avg, the values are created and changed only during the call. Here is an illustrative example:\n\ns &lt;- 3\navg(1:10)\n\n[1] 5.5\n\ns\n\n[1] 3\n\n\nNote how s is still 3 after we call avg.\nIn general, functions are objects, so we assign them to variable names with &lt;-. The function function tells R you are about to define a function. The general form of a function definition looks like this:\n\nmy_function &lt;- function(VARIABLE_NAME){\n  perform operations on VARIABLE_NAME and calculate VALUE\n  VALUE\n}\n\nThe functions you define can have multiple arguments as well as default values. For example, we can define a function that computes either the arithmetic or geometric average depending on a user defined variable like this:\n\navg &lt;- function(x, arithmetic = TRUE){\n  n &lt;- length(x)\n  ifelse(arithmetic, sum(x)/n, prod(x)^(1/n))\n}\n\nWe will learn more about how to create functions through experience as we face more complex tasks.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Programming Basics</span>"
    ]
  },
  {
    "objectID": "Programming_Basics.html#namespaces",
    "href": "Programming_Basics.html#namespaces",
    "title": "3  Programming Basics",
    "section": "3.3 Namespaces",
    "text": "3.3 Namespaces\nOnce you start becoming more of an R expert user, you will likely need to load several add-on packages for some of your analysis. Once you start doing this, it is likely that two packages use the same name for two different functions. And often these functions do completely different things. In fact, you have already encountered this because both dplyr and the R-base stats package define a filter function. There are five other examples in dplyr. We know this because when we first load dplyr we see the following message:\nThe following objects are masked from ‘package:stats’:\n\n    filter, lag\n\nThe following objects are masked from ‘package:base’:\n\n    intersect, setdiff, setequal, union\nSo what does R do when we type filter? Does it use the dplyr function or the stats function? From our previous work we know it uses the dplyr one. But what if we want to use the stats version?\nThese functions live in different namespaces. R will follow a certain order when searching for a function in these namespaces. You can see the order by typing:\n\nsearch()\n\nThe first entry in this list is the global environment which includes all the objects you define.\nSo what if we want to use the stats filter instead of the dplyr filter but dplyr appears first in the search list? You can force the use of a specific namespace by using double colons (::) like this:\n\nstats::filter\n\nIf we want to be absolutely sure that we use the dplyr filter, we can use\n\ndplyr::filter\n\nAlso note that if we want to use a function in a package without loading the entire package, we can use the double colon as well.\nFor more on this more advanced topic we recommend the R packages book1.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Programming Basics</span>"
    ]
  },
  {
    "objectID": "Programming_Basics.html#for-loops",
    "href": "Programming_Basics.html#for-loops",
    "title": "3  Programming Basics",
    "section": "3.4 For-loops",
    "text": "3.4 For-loops\nThe formula for the sum of the series \\(1+2+\\dots+n\\) is \\(n(n+1)/2\\). What if we weren’t sure that was the right function? How could we check? Using what we learned about functions we can create one that computes the \\(S_n\\):\n\ncompute_s_n &lt;- function(n){\n  x &lt;- 1:n\n  sum(x)\n}\n\nHow can we compute \\(S_n\\) for various values of \\(n\\), say \\(n=1,\\dots,25\\)? Do we write 25 lines of code calling compute_s_n? No, that is what for-loops are for in programming. In this case, we are performing exactly the same task over and over, and the only thing that is changing is the value of \\(n\\). For-loops let us define the range that our variable takes (in our example \\(n=1,\\dots,10\\)), then change the value and evaluate expression as you loop.\nPerhaps the simplest example of a for-loop is this useless piece of code:\n\nfor(i in 1:5){\n  print(i)\n}\n\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n\n\nHere is the for-loop we would write for our \\(S_n\\) example:\n\nm &lt;- 25\ns_n &lt;- vector(length = m) # create an empty vector\nfor(n in 1:m){\n  s_n[n] &lt;- compute_s_n(n)\n}\n\nIn each iteration \\(n=1\\), \\(n=2\\), etc…, we compute \\(S_n\\) and store it in the \\(n\\)th entry of s_n.\nNow we can create a plot to search for a pattern:\n\nn &lt;- 1:m\nplot(n, s_n)\n\n\n\n\n\n\n\n\n\n\nIf you noticed that it appears to be a quadratic, you are on the right track because the formula is \\(n(n+1)/2\\).",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Programming Basics</span>"
    ]
  },
  {
    "objectID": "Programming_Basics.html#vectorization",
    "href": "Programming_Basics.html#vectorization",
    "title": "3  Programming Basics",
    "section": "3.5 Vectorization and functionals",
    "text": "3.5 Vectorization and functionals\nAlthough for-loops are an important concept to understand, in R we rarely use them. As you learn more R, you will realize that vectorization is preferred over for-loops since it results in shorter and clearer code. We already saw examples in the Vector Arithmetic section. A vectorized function is a function that will apply the same operation on each of the vectors.\n\nx &lt;- 1:10\nsqrt(x)\n\n [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751 2.828427\n [9] 3.000000 3.162278\n\ny &lt;- 1:10\nx*y\n\n [1]   1   4   9  16  25  36  49  64  81 100\n\n\nTo make this calculation, there is no need for for-loops. However, not all functions work this way. For instance, the function we just wrote, compute_s_n, does not work element-wise since it is expecting a scalar. This piece of code does not run the function on each entry of n:\n\nn &lt;- 1:25\ncompute_s_n(n)\n\nFunctionals are functions that help us apply the same function to each entry in a vector, matrix, data frame, or list. Here we cover the functional that operates on numeric, logical, and character vectors: sapply.\nThe function sapply permits us to perform element-wise operations on any function. Here is how it works:\n\nx &lt;- 1:10\nsapply(x, sqrt)\n\n [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751 2.828427\n [9] 3.000000 3.162278\n\n\nEach element of x is passed on to the function sqrt and the result is returned. These results are concatenated. In this case, the result is a vector of the same length as the original x. This implies that the for-loop above can be written as follows:\n\nn &lt;- 1:25\ns_n &lt;- sapply(n, compute_s_n)\n\nOther functionals are apply, lapply, tapply, mapply, vapply, and replicate. We mostly use sapply, apply, and replicate in this book, but we recommend familiarizing yourselves with the others as they can be very useful.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Programming Basics</span>"
    ]
  },
  {
    "objectID": "Programming_Basics.html#exercises",
    "href": "Programming_Basics.html#exercises",
    "title": "3  Programming Basics",
    "section": "3.6 Exercises",
    "text": "3.6 Exercises\n1. What will this conditional expression return?\n\nx &lt;- c(1,2,-3,4)\n\nif(all(x&gt;0)){\n  print(\"All Postives\")\n} else{\n  print(\"Not all positives\")\n}\n\n2. Which of the following expressions is always FALSE when at least one entry of a logical vector x is TRUE?\n\nall(x)\nany(x)\nany(!x)\nall(!x)\n\n3. The function nchar tells you how many characters long a character vector is. Write a line of code that assigns to the object new_names the state abbreviation when the state name is longer than 8 characters.\n4. Create a function sum_n that for any given value, say \\(n\\), computes the sum of the integers from 1 to n (inclusive). Use the function to determine the sum of integers from 1 to 5,000.\n5. Create a function altman_plot that takes two arguments, x and y, and plots the difference against the sum.\n6. After running the code below, what is the value of x?\n\nx &lt;- 3\nmy_func &lt;- function(y){\n  x &lt;- 5\n  y+5\n}\n\n7. Write a function compute_s_n that for any given \\(n\\) computes the sum \\(S_n = 1^2 + 2^2 + 3^2 + \\dots n^2\\). Report the value of the sum when \\(n=10\\).\n8. Define an empty numerical vector s_n of size 25 using s_n &lt;- vector(\"numeric\", 25) and store in the results of \\(S_1, S_2, \\dots S_{25}\\) using a for-loop.\n9. Repeat exercise 8, but this time use sapply.\n10. Repeat exercise 8, but this time use map_dbl.\n11. Plot \\(S_n\\) versus \\(n\\). Use points defined by \\(n=1,\\dots,25\\).\n12. Confirm that the formula for this sum is \\(S_n= n(n+1)(2n+1)/6\\).",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Programming Basics</span>"
    ]
  },
  {
    "objectID": "Programming_Basics.html#footnotes",
    "href": "Programming_Basics.html#footnotes",
    "title": "3  Programming Basics",
    "section": "",
    "text": "http://r-pkgs.had.co.nz/namespace.html↩︎",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Programming Basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#some-r-basics",
    "href": "R_basics.html#some-r-basics",
    "title": "2  R basics",
    "section": "",
    "text": "Everything is an object.\nEverything has a name.\nYou do things using functions.\nFunctions come pre-written in packages (i.e. “libraries”), although you can — and should — write your own functions too.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#math-and-assigning-variables",
    "href": "R_basics.html#math-and-assigning-variables",
    "title": "2  R basics",
    "section": "2.2 Math and assigning variables",
    "text": "2.2 Math and assigning variables\n\n3+4\n\n[1] 7\n\ny &lt;- 3+4\n\ny\n\n[1] 7\n\ny_log &lt;- log(y)\n\ny_log\n\n[1] 1.94591",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#packages",
    "href": "R_basics.html#packages",
    "title": "2  R basics",
    "section": "3.6 Packages",
    "text": "3.6 Packages",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#a-biological-example-to-get-us-started",
    "href": "Tidyverse.html#a-biological-example-to-get-us-started",
    "title": "4  Tidyverse",
    "section": "",
    "text": "Say you perform an experiment on two different strains of stickleback fish, one from an ocean population (RS) and one from a freshwater lake (BP) by making them microbe free.\n\n\n\nMicrobes in the gut are known to interact with the gut epithelium in ways that lead to a proper maturation of the immune system.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#a-biological-example-to-get-us-started-1",
    "href": "Tidyverse.html#a-biological-example-to-get-us-started-1",
    "title": "4  Tidyverse",
    "section": "4.2 A biological example to get us started",
    "text": "4.2 A biological example to get us started\n\nYou carry out an experiment by treating multiple fish from each strain so that some of them have a conventional microbiota, and some are inoculated with only one bacterial species.\n\n\n\nYou then measure the levels of gene expression in the stickleback gut using RNA-seq.\n\n\n\nYou suspect that the sex of the fish might be important so you track it too.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#a-biological-example-to-get-us-started-2",
    "href": "Tidyverse.html#a-biological-example-to-get-us-started-2",
    "title": "4  Tidyverse",
    "section": "4.3 A biological example to get us started",
    "text": "4.3 A biological example to get us started",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#section",
    "href": "Tidyverse.html#section",
    "title": "4  Tidyverse",
    "section": "4.4 ",
    "text": "4.4",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#collecting-data-with-analyses-in-mind",
    "href": "Tidyverse.html#collecting-data-with-analyses-in-mind",
    "title": "4  Tidyverse",
    "section": "4.5 Collecting Data with Analyses in Mind",
    "text": "4.5 Collecting Data with Analyses in Mind\n \n\nHow should the data set be organized to best analyze it?\nWhat are the key properties of the variables?\nWhy does it matter for learning R?\nWhy does it matter for performing statistical analyses in R?",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#data-set-rules-of-thumb-aka-tidy-data",
    "href": "Tidyverse.html#data-set-rules-of-thumb-aka-tidy-data",
    "title": "4  Tidyverse",
    "section": "4.6 Data set rules of thumb (aka Tidy Data)",
    "text": "4.6 Data set rules of thumb (aka Tidy Data)\n \n\nStore a copy of data in non-proprietary formats\nLeave an uncorrected file when doing analyses\nMaintain effective metadata about the data\nWhen you add observations to a database, add rows\nWhen you add variables to a database, add columns\nA column of data should contain only one data type",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#section-1",
    "href": "Tidyverse.html#section-1",
    "title": "4  Tidyverse",
    "section": "4.7 ",
    "text": "4.7",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tidyverse-family-of-packages-1",
    "href": "Tidyverse.html#tidyverse-family-of-packages-1",
    "title": "4  Tidyverse",
    "section": "5.1 Tidyverse family of packages",
    "text": "5.1 Tidyverse family of packages",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#tidyverse-family-of-packages-2",
    "href": "Tidyverse.html#tidyverse-family-of-packages-2",
    "title": "4  Tidyverse",
    "section": "5.2 Tidyverse family of packages",
    "text": "5.2 Tidyverse family of packages\n\nHadley Wickham and others have written R packages to modify data\nThese packages do many of the same things as base functions in R\nHowever, they are specifically designed to do them faster and more easily\nWickham also wrote the package GGPlot2 for elegant graphics creations\nGG stands for ‘Grammar of Graphics’",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#example-of-a-tibble",
    "href": "Tidyverse.html#example-of-a-tibble",
    "title": "4  Tidyverse",
    "section": "5.3 Example of a tibble",
    "text": "5.3 Example of a tibble",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#example-of-a-tibble-1",
    "href": "Tidyverse.html#example-of-a-tibble-1",
    "title": "4  Tidyverse",
    "section": "5.4 Example of a tibble",
    "text": "5.4 Example of a tibble",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#key-functions-in-dplyr-for-vectors",
    "href": "Tidyverse.html#key-functions-in-dplyr-for-vectors",
    "title": "4  Tidyverse",
    "section": "5.5 Key functions in dplyr for vectors",
    "text": "5.5 Key functions in dplyr for vectors\n\n\nPick observations by their values with filter().\nReorder the rows with arrange().\nPick variables by their names with select().\nCreate new variables with functions of existing variables with mutate().\nCollapse many values down to a single summary with summarise().",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#filter-arrange-select",
    "href": "Tidyverse.html#filter-arrange-select",
    "title": "4  Tidyverse",
    "section": "5.6 filter(), arrange() & select()",
    "text": "5.6 filter(), arrange() & select()\n\nfilter(flights, month == 11 | month == 12)\n\n\narrange(flights, year, month, day)\n\n\nselect(flights, year, month, day)",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#mutate-transmutate",
    "href": "Tidyverse.html#mutate-transmutate",
    "title": "4  Tidyverse",
    "section": "5.7 mutate() & transmutate()",
    "text": "5.7 mutate() & transmutate()\nThis function will add a new variable that is a function of other variable(s)\n\nmutate(flights,\n  gain = arr_delay - dep_delay,\n  hours = air_time / 60,\n  gain_per_hour = gain / hours\n)\n\nThis function will replace the old variable with the new variable\n\ntransmute(flights,\n  gain = arr_delay - dep_delay,\n  hours = air_time / 60,\n  gain_per_hour = gain / hours\n)",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#group_by-summarize",
    "href": "Tidyverse.html#group_by-summarize",
    "title": "4  Tidyverse",
    "section": "5.8 group_by( ) & summarize( )",
    "text": "5.8 group_by( ) & summarize( )\n\nThis first function allows you to aggregate data by values of categorical variables (factors)\n\nby_day &lt;- group_by(flights, year, month, day)\n\nOnce you have done this aggregation, you can then calculate values (in this case the mean) of other variables split by the new aggregated levels of the categorical variable\n\nsummarise(by_day, delay = mean(dep_delay, na.rm = TRUE))",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "Tidyverse.html#group_by-summarize-1",
    "href": "Tidyverse.html#group_by-summarize-1",
    "title": "4  Tidyverse",
    "section": "5.9 group_by( ) & summarize( )",
    "text": "5.9 group_by( ) & summarize( )\n\n\nNote - you can get a lot of missing values!\nThat’s because aggregation functions obey the usual rule of missing values:\n\nif there’s any missing value in the input, the output will be a missing value.\nfortunately, all aggregation functions have an na.rm argument which removes the missing values prior to computation",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Tidyverse</span>"
    ]
  },
  {
    "objectID": "R_basics.html#creating-data-frames-in-r",
    "href": "R_basics.html#creating-data-frames-in-r",
    "title": "2  R basics",
    "section": "6.30 Creating Data Frames in R",
    "text": "6.30 Creating Data Frames in R\n\nAs you have seen, in R you can generate your own random data set drawn from nearly any distribution very easily.\nOften we will want to use collected data.\nNow, let’s make a dummy dataset to get used to dealing with data frames\n\nSet up three variables (habitat, temp and elevation) as vectors\n\n\n\nhabitat &lt;- factor(c(\"mixed\", \"wet\", \"wet\", \"wet\", \"dry\", \"dry\", \"dry\",\"mixed\"))\ntemp &lt;- c(3.4, 3.4, 8.4, 3, 5.6, 8.1, 8.3, 4.5)\nelevation &lt;- c(0, 9.2, 3.8, 5, 5.6, 4.1, 7.1, 5.3)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#creating-data-frames-in-r-1",
    "href": "R_basics.html#creating-data-frames-in-r-1",
    "title": "2  R basics",
    "section": "6.31 Creating Data Frames in R",
    "text": "6.31 Creating Data Frames in R\n\nCreate a data frame where vectors become columns\n\n\nmydata &lt;- data.frame(habitat, temp, elevation)\nrow.names(mydata) &lt;- c(\"Reedy Lake\", \"Pearcadale\", \"Warneet\", \"Cranbourne\", \"Lysterfield\", \"Red Hill\", \"Devilbend\", \"Olinda\")\nhead(mydata)\n\n            habitat temp elevation\nReedy Lake    mixed  3.4       0.0\nPearcadale      wet  3.4       9.2\nWarneet         wet  8.4       3.8\nCranbourne      wet  3.0       5.0\nLysterfield     dry  5.6       5.6\nRed Hill        dry  8.1       4.1\n\n\n\nNow you have a hand-made data frame with row names",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#r-interlude-reading-in-data-frames-in-r",
    "href": "R_basics.html#r-interlude-reading-in-data-frames-in-r",
    "title": "2  R basics",
    "section": "6.32 R Interlude: Reading in Data Frames in R",
    "text": "6.32 R Interlude: Reading in Data Frames in R\n\nA strength of R is being able to import data from an external source\n\nCreate the same table that you did above in a spreadsheet using LibreOffice\nExport it to comma separated and tab separated text files for importing into R.\nThe first will read in a comma-delimited file, whereas the second is a tab-delimited\nIn both cases the header and row.names arguments indicate that there is a header row and row label column\nNote that the name of the file by itself will have R look in the PWD, whereas a full path can also be used",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#reading-in-data-frames-in-r",
    "href": "R_basics.html#reading-in-data-frames-in-r",
    "title": "2  R basics",
    "section": "6.33 Reading in Data Frames in R",
    "text": "6.33 Reading in Data Frames in R\n\nYourFile &lt;- read.table('yourfile.csv', header=T, row.names=1, sep=',')\nYourFile &lt;- read.csv('yourfile.csv', header=T, row.names=1, sep=',')\nYourFile &lt;- read.table('yourfile.txt', header=T, row.names=1, sep='\\t')",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#exporting-data-frames-in-r",
    "href": "R_basics.html#exporting-data-frames-in-r",
    "title": "2  R basics",
    "section": "6.34 Exporting Data Frames in R",
    "text": "6.34 Exporting Data Frames in R\n\nwrite.csv(YourFile, \"yourfile.csv\", quote=F, row.names=T, sep=\",\")\nwrite.table(YourFile, \"yourfile.txt\", quote=F, row.names=T, sep=\"\\t\")\n\n\nyou will get more practice with this during the next R interlude",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#arguments-in-r-functions",
    "href": "R_basics.html#arguments-in-r-functions",
    "title": "2  R basics",
    "section": "6.35 Arguments in R Functions",
    "text": "6.35 Arguments in R Functions\n\nSometimes R can guess what you mean because of order…\n\n\nx &lt;- rnorm(1000, 0, 10)  #n=, mean=, sd=\nx[1:10]\n\n [1] -13.1852710  -1.3471838   0.8931803 -17.1634877   7.8245106  10.6315146\n [7]  20.1115541   1.1959889  -2.2758937 -12.7012207\n\n\n\nBut sometimes if the order isn’t right, you can confuse R and get something you really didn’t want…\n\n\nx2 &lt;- rnorm(10, 1000, 0)  #n=, mean=, sd=\nx2\n\n [1] 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#arguments-in-r-functions-1",
    "href": "R_basics.html#arguments-in-r-functions-1",
    "title": "2  R basics",
    "section": "6.36 Arguments in R Functions",
    "text": "6.36 Arguments in R Functions\n\nA work-around and best-practice: include the arguments!!\n\n\nset.seed(145)\nx &lt;- rnorm(n=1000, mean=0, sd=10)  #n=, mean=, sd=\nx[1:10]\n\n [1]  6.869129 10.663631  5.367006 19.060287 10.631596 13.703436  5.277918\n [8]  4.030967 11.677516  7.926794\n\n\n\nset.seed(145)\nx2 &lt;- rnorm(sd=10, n=1000, mean=0)  #n=, mean=, sd=\nx2[1:10]\n\n [1]  6.869129 10.663631  5.367006 19.060287 10.631596 13.703436  5.277918\n [8]  4.030967 11.677516  7.926794\n\n\n\nNotice we also set the seed to replicate our sample results!",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#indexing-in-data-frames",
    "href": "R_basics.html#indexing-in-data-frames",
    "title": "2  R basics",
    "section": "6.37 Indexing in data frames",
    "text": "6.37 Indexing in data frames\n\nNext up - indexing just a subset of the data\nThis is a very important feature in R, that allows you to analyze just a subset of the data.\n\n\nprint (YourFile[,2])\nprint (YourFile$temp)\nprint (YourFile[2,])\nplot (YourFile$temp, YourFile$elevation)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#indexing-in-data-frames-1",
    "href": "R_basics.html#indexing-in-data-frames-1",
    "title": "2  R basics",
    "section": "6.38 Indexing in data frames",
    "text": "6.38 Indexing in data frames\n\nYou can also assign values, or single values, from a data set to a new variable\n\n\nx &lt;- (YourFile[,2])\ny &lt;-  (YourFile$temp)\nz &lt;- (YourFile$elevation)\nplot (y, z)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#indexing-in-data-frames-2",
    "href": "R_basics.html#indexing-in-data-frames-2",
    "title": "2  R basics",
    "section": "6.39 Indexing in data frames",
    "text": "6.39 Indexing in data frames\n\nYou can perform operations on particular levels of a factor\nNote that the first argument is the numerical column vector, and the second is the factor column vector.\nThe third is the operation. Reversing the first two does not work\n\nTab complete will tell you the correct order for arguments\n\n\n\ntapply(YourFile$temp, YourFile$habitat, mean)\ntapply(YourFile$temp, YourFile$habitat, var)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "R_basics.html#r-basics",
    "href": "R_basics.html#r-basics",
    "title": "2  R basics",
    "section": "6.40 R basics",
    "text": "6.40 R basics\nIn this book, we will be using the R software environment for all our analysis. You will learn R and data analysis techniques simultaneously. To follow along you will therefore need access to R. We also recommend the use of an integrated development environment (IDE), such as RStudio, to save your work. Note that it is common for a course or workshop to offer access to an R environment and an IDE through your web browser, as done by RStudio cloud1. If you have access to such a resource, you don’t need to install R and RStudio. However, if you intend on becoming an advanced data analyst, we highly recommend installing these tools on your computer2. Both R and RStudio are free and available online.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>R basics</span>"
    ]
  },
  {
    "objectID": "data_viz.html",
    "href": "data_viz.html",
    "title": "5  Data Visualization",
    "section": "",
    "text": "5.1 Introduction\nThese slides are inspired by:\n“Creating effective figures and tables” by Karl Broman. Code available on GitHub repository. Introduction to Data Visualization course by Peter Aldhous\nIt is a chapter in a data visualization chapter in this book",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#introduction-1",
    "href": "data_viz.html#introduction-1",
    "title": "5  Data Visualization",
    "section": "5.2 Introduction",
    "text": "5.2 Introduction\n\nWe show some examples of plot styles we should avoid, explain how to improve them, and use these as motivation for a list of principles.\nWe compare and contrast plots that follow these principles to those that don’t.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#introduction-2",
    "href": "data_viz.html#introduction-2",
    "title": "5  Data Visualization",
    "section": "5.3 Introduction",
    "text": "5.3 Introduction\n\nThe principles are mostly based on research related to how humans detect patterns and make visual comparisons.\nThe preferred approaches are those that best fit the way our brains process visual information.\nWhen deciding on a visualization approach it is also important to keep our goal in mind.\nWe may be comparing a viewable number of quantities, describing distribution for categories or numeric values, comparing the data from two groups, or describing the relationship between two variables.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#encoding-data-using-visual-cues",
    "href": "data_viz.html#encoding-data-using-visual-cues",
    "title": "5  Data Visualization",
    "section": "5.4 Encoding data using visual cues",
    "text": "5.4 Encoding data using visual cues\n\nWe start by describing some principles for encoding data.\nThere are several approaches at our disposal including:\n\nposition\naligned lengths\nangles\narea\nbrightness\ncolor hue.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#first-example",
    "href": "data_viz.html#first-example",
    "title": "5  Data Visualization",
    "section": "5.5 First example",
    "text": "5.5 First example",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#encoding-data-with-angles-and-areas-not-recommended",
    "href": "data_viz.html#encoding-data-with-angles-and-areas-not-recommended",
    "title": "5  Data Visualization",
    "section": "5.6 Encoding data with angles and areas: not recommended",
    "text": "5.6 Encoding data with angles and areas: not recommended\n\nHere we are representing quantities with both areas and angles since both the angle and area of each pie slice is proportional to the quantity it represents.\nThis turns out to be a sub optimal choice since, as demonstrated by perception studies, humans are not good at precisely quantifying angles and are even worse when only are is available.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#encoding-data-with-just-area-even-less-recommended",
    "href": "data_viz.html#encoding-data-with-just-area-even-less-recommended",
    "title": "5  Data Visualization",
    "section": "5.7 Encoding data with just area: even less recommended",
    "text": "5.7 Encoding data with just area: even less recommended\n\n\n\n\n\nPie chart of browser usage.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#pie-chart-vs-barplots",
    "href": "data_viz.html#pie-chart-vs-barplots",
    "title": "5  Data Visualization",
    "section": "5.8 pie chart vs barplots",
    "text": "5.8 pie chart vs barplots",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#if-forced-to-make-a-pie-chart-at-percentages",
    "href": "data_viz.html#if-forced-to-make-a-pie-chart-at-percentages",
    "title": "5  Data Visualization",
    "section": "5.9 If forced to make a pie chart at percentages",
    "text": "5.9 If forced to make a pie chart at percentages",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#visual-cues",
    "href": "data_viz.html#visual-cues",
    "title": "5  Data Visualization",
    "section": "5.10 Visual cues",
    "text": "5.10 Visual cues\n\nPosition and length are the preferred ways to display quantities over angles which are preferred to area.\nBrightness and color are even harder to quantifying that angles and area but, as we will see later, they are sometimes useful when more than two dimensions are being displayed.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#when-to-include-0",
    "href": "data_viz.html#when-to-include-0",
    "title": "5  Data Visualization",
    "section": "5.11 When to include 0",
    "text": "5.11 When to include 0\n\nWhen using length (e.g. barplots) it is misleading not to start the bars at 0.\nThis is because, by using a barplot, we are implying the length is proportional to the quantities being displayed.\nBy avoiding 0, relatively small difference can be made to look much bigger than they actually are.\nThis approach is often used by politicians or media organizations trying to exaggerate a difference.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#example",
    "href": "data_viz.html#example",
    "title": "5  Data Visualization",
    "section": "5.12 Example",
    "text": "5.12 Example\n\n\n(Source: Fox News, via Media Matters via Fox News via Peter Aldhous",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#same-data-with-plot-that-includes-0",
    "href": "data_viz.html#same-data-with-plot-that-includes-0",
    "title": "5  Data Visualization",
    "section": "5.13 Same data with plot that includes 0",
    "text": "5.13 Same data with plot that includes 0",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#another-example",
    "href": "data_viz.html#another-example",
    "title": "5  Data Visualization",
    "section": "5.14 Another example",
    "text": "5.14 Another example\n\n\nVia Fox News via Flowingdata",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#same-data-with-plot-the-includes-0",
    "href": "data_viz.html#same-data-with-plot-the-includes-0",
    "title": "5  Data Visualization",
    "section": "5.15 Same data with plot the includes 0",
    "text": "5.15 Same data with plot the includes 0",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#when-not-to-include-0",
    "href": "data_viz.html#when-not-to-include-0",
    "title": "5  Data Visualization",
    "section": "5.16 When not to include 0",
    "text": "5.16 When not to include 0\n\nWhen using position rather than length, it is not necessary to include 0.\nThis is particularly the case when we want to compare differences between groups relative the variability seen within the groups.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#example-life-expectancy-by-continent-in-2012",
    "href": "data_viz.html#example-life-expectancy-by-continent-in-2012",
    "title": "5  Data Visualization",
    "section": "5.17 Example: Life expectancy by continent in 2012",
    "text": "5.17 Example: Life expectancy by continent in 2012",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#do-not-distrort-quantities",
    "href": "data_viz.html#do-not-distrort-quantities",
    "title": "5  Data Visualization",
    "section": "5.18 Do not distrort quantities",
    "text": "5.18 Do not distrort quantities\n\n(Source: President Barack Obama’s 2011 State of the Union Address via [Peter Aldhous] (http://paldhous.github.io/ucb/2016/dataviz/index.html))",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#use-area-not-radius",
    "href": "data_viz.html#use-area-not-radius",
    "title": "5  Data Visualization",
    "section": "5.19 Use area not radius",
    "text": "5.19 Use area not radius",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#but-we-should-not-be-using-area-or-radius",
    "href": "data_viz.html#but-we-should-not-be-using-area-or-radius",
    "title": "5  Data Visualization",
    "section": "5.20 But we should not be using area or radius",
    "text": "5.20 But we should not be using area or radius",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#order-by-a-meaningful-value",
    "href": "data_viz.html#order-by-a-meaningful-value",
    "title": "5  Data Visualization",
    "section": "5.21 Order by a meaningful value",
    "text": "5.21 Order by a meaningful value",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#order-by-a-meaningful-value-1",
    "href": "data_viz.html#order-by-a-meaningful-value-1",
    "title": "5  Data Visualization",
    "section": "5.22 Order by a meaningful value",
    "text": "5.22 Order by a meaningful value",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#another-example-average-income-by-region-in-1970-colors-continent",
    "href": "data_viz.html#another-example-average-income-by-region-in-1970-colors-continent",
    "title": "5  Data Visualization",
    "section": "5.23 Another example: Average income by region in 1970 (colors = continent)",
    "text": "5.23 Another example: Average income by region in 1970 (colors = continent)",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#show-the-data",
    "href": "data_viz.html#show-the-data",
    "title": "5  Data Visualization",
    "section": "5.24 Show the data",
    "text": "5.24 Show the data",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#show-the-data-1",
    "href": "data_viz.html#show-the-data-1",
    "title": "5  Data Visualization",
    "section": "5.25 Show the data",
    "text": "5.25 Show the data",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#jitter-and-alpha-blending",
    "href": "data_viz.html#jitter-and-alpha-blending",
    "title": "5  Data Visualization",
    "section": "5.26 jitter and alpha blending",
    "text": "5.26 jitter and alpha blending",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#compare-distributions-if-too-many-points",
    "href": "data_viz.html#compare-distributions-if-too-many-points",
    "title": "5  Data Visualization",
    "section": "5.27 Compare distributions if too many points",
    "text": "5.27 Compare distributions if too many points\n\n\nWarning: The dot-dot notation (`..density..`) was deprecated in ggplot2 3.4.0.\nℹ Please use `after_stat(density)` instead.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#ease-comparisons-use-common-axes",
    "href": "data_viz.html#ease-comparisons-use-common-axes",
    "title": "5  Data Visualization",
    "section": "5.28 Ease comparisons: Use common axes",
    "text": "5.28 Ease comparisons: Use common axes",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#ease-comparisons-align-vertically",
    "href": "data_viz.html#ease-comparisons-align-vertically",
    "title": "5  Data Visualization",
    "section": "5.29 Ease comparisons: align vertically",
    "text": "5.29 Ease comparisons: align vertically",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#ease-comparisons-align-horizontally",
    "href": "data_viz.html#ease-comparisons-align-horizontally",
    "title": "5  Data Visualization",
    "section": "5.30 Ease comparisons: align horizontally",
    "text": "5.30 Ease comparisons: align horizontally",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#comparison",
    "href": "data_viz.html#comparison",
    "title": "5  Data Visualization",
    "section": "5.31 Comparison",
    "text": "5.31 Comparison",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#consider-transformations",
    "href": "data_viz.html#consider-transformations",
    "title": "5  Data Visualization",
    "section": "5.32 Consider transformations",
    "text": "5.32 Consider transformations\n\nAs an example consider this barplot showing the average population sizes for each continent in 2015:",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#consider-transformations-1",
    "href": "data_viz.html#consider-transformations-1",
    "title": "5  Data Visualization",
    "section": "5.33 Consider transformations",
    "text": "5.33 Consider transformations",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#show-the-data-2",
    "href": "data_viz.html#show-the-data-2",
    "title": "5  Data Visualization",
    "section": "5.34 Show the data",
    "text": "5.34 Show the data",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#consider-transformations-2",
    "href": "data_viz.html#consider-transformations-2",
    "title": "5  Data Visualization",
    "section": "5.35 Consider transformations",
    "text": "5.35 Consider transformations",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#how-can-we-ease-comparisons",
    "href": "data_viz.html#how-can-we-ease-comparisons",
    "title": "5  Data Visualization",
    "section": "5.36 How can we ease comparisons?",
    "text": "5.36 How can we ease comparisons?",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#comparisons-should-be-adjacent",
    "href": "data_viz.html#comparisons-should-be-adjacent",
    "title": "5  Data Visualization",
    "section": "5.37 Comparisons should be adjacent",
    "text": "5.37 Comparisons should be adjacent",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#use-color-to-highlight-comparison",
    "href": "data_viz.html#use-color-to-highlight-comparison",
    "title": "5  Data Visualization",
    "section": "5.38 Use color to highlight comparison",
    "text": "5.38 Use color to highlight comparison",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#think-of-the-color-blind",
    "href": "data_viz.html#think-of-the-color-blind",
    "title": "5  Data Visualization",
    "section": "5.39 Think of the color blind",
    "text": "5.39 Think of the color blind\n\nAbout 10% of the population is color blind.\nUnfortunately, the default colors used in ggplot are not optimal for this group.\nHowever, ggplot does it make it easy to change the color palette used in the plots.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#think-of-the-color-blind-1",
    "href": "data_viz.html#think-of-the-color-blind-1",
    "title": "5  Data Visualization",
    "section": "5.40 Think of the color blind",
    "text": "5.40 Think of the color blind\n\nHere is an example of how we can use color blind friendly pallet described here:",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#think-of-the-color-blind-2",
    "href": "data_viz.html#think-of-the-color-blind-2",
    "title": "5  Data Visualization",
    "section": "5.41 Think of the color blind",
    "text": "5.41 Think of the color blind",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#think-of-the-color-blind-3",
    "href": "data_viz.html#think-of-the-color-blind-3",
    "title": "5  Data Visualization",
    "section": "5.42 Think of the color blind",
    "text": "5.42 Think of the color blind\n\nThere are several resources that help you select colors, for example this one.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#alternatives-to-scatterplots",
    "href": "data_viz.html#alternatives-to-scatterplots",
    "title": "5  Data Visualization",
    "section": "5.43 Alternatives to scatterplots",
    "text": "5.43 Alternatives to scatterplots\n\nScatter plots are default when comparing two variables\nSlope charts are good for before after comparisons\nBland-Altman plots are good for when we care about difference",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#slope-charts",
    "href": "data_viz.html#slope-charts",
    "title": "5  Data Visualization",
    "section": "5.44 Slope charts",
    "text": "5.44 Slope charts",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#scatter-plot-with-common-axes",
    "href": "data_viz.html#scatter-plot-with-common-axes",
    "title": "5  Data Visualization",
    "section": "5.45 Scatter plot (with common axes)",
    "text": "5.45 Scatter plot (with common axes)",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#bland-altman-plot",
    "href": "data_viz.html#bland-altman-plot",
    "title": "5  Data Visualization",
    "section": "5.46 Bland-Altman plot",
    "text": "5.46 Bland-Altman plot",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#encoding-a-third-variable",
    "href": "data_viz.html#encoding-a-third-variable",
    "title": "5  Data Visualization",
    "section": "5.47 Encoding a third variable",
    "text": "5.47 Encoding a third variable",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#encoding-a-third-variable-1",
    "href": "data_viz.html#encoding-a-third-variable-1",
    "title": "5  Data Visualization",
    "section": "5.48 Encoding a third variable",
    "text": "5.48 Encoding a third variable",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#example-1",
    "href": "data_viz.html#example-1",
    "title": "5  Data Visualization",
    "section": "5.49 Example",
    "text": "5.49 Example\n\nThe data used for these plots were collected, organized and distributed by the Tycho Project.\nThey include weekly reported counts data for seven diseases from 1928 to 2011, from all fifty states.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#one-state-is-easy",
    "href": "data_viz.html#one-state-is-easy",
    "title": "5  Data Visualization",
    "section": "5.50 One state is easy",
    "text": "5.50 One state is easy",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#paletts",
    "href": "data_viz.html#paletts",
    "title": "5  Data Visualization",
    "section": "5.51 Paletts",
    "text": "5.51 Paletts\n\nDiverging colors are used to represent values that diverge from a center.\nWe put equal emphasis on both ends of the data range: higher than the center and lower than the center.\nAn example of when we would use a divergent pattern would be if we were to show height in standard deviations away from the average.\nHere are some examples of divergent patterns:",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#sequential-paletts",
    "href": "data_viz.html#sequential-paletts",
    "title": "5  Data Visualization",
    "section": "5.52 Sequential Paletts",
    "text": "5.52 Sequential Paletts",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#divergent-paletts",
    "href": "data_viz.html#divergent-paletts",
    "title": "5  Data Visualization",
    "section": "5.53 Divergent Paletts",
    "text": "5.53 Divergent Paletts\n\nlibrary(RColorBrewer)\ndisplay.brewer.all(type=\"div\")",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#example-2",
    "href": "data_viz.html#example-2",
    "title": "5  Data Visualization",
    "section": "5.54 Example",
    "text": "5.54 Example",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#alternative-eliminate-one-variable",
    "href": "data_viz.html#alternative-eliminate-one-variable",
    "title": "5  Data Visualization",
    "section": "5.55 Alternative: eliminate one variable",
    "text": "5.55 Alternative: eliminate one variable\n\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#avoid-pseudo-three-dimensional-plots",
    "href": "data_viz.html#avoid-pseudo-three-dimensional-plots",
    "title": "5  Data Visualization",
    "section": "5.56 Avoid pseudo three dimensional plots",
    "text": "5.56 Avoid pseudo three dimensional plots\n\n\n\nPseudo 3-D.\n\n\n(Source: Karl Broman)",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#avoid-pseudo-three-dimensional-plots-1",
    "href": "data_viz.html#avoid-pseudo-three-dimensional-plots-1",
    "title": "5  Data Visualization",
    "section": "5.57 Avoid pseudo three dimensional plots",
    "text": "5.57 Avoid pseudo three dimensional plots",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#avoid-gratuitousthree-dimensional-plots",
    "href": "data_viz.html#avoid-gratuitousthree-dimensional-plots",
    "title": "5  Data Visualization",
    "section": "5.58 Avoid gratuitousthree dimensional plots",
    "text": "5.58 Avoid gratuitousthree dimensional plots\n\nPseudo 3D is sometimes used completely gratuitously: plots are made to look 3D even when the 3rd dimension does not represent a quantity.\nThis only adds confusion and makes it harder to relay your message.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#avoid-gratuitousthree-dimensional-plots-1",
    "href": "data_viz.html#avoid-gratuitousthree-dimensional-plots-1",
    "title": "5  Data Visualization",
    "section": "5.59 Avoid gratuitousthree dimensional plots",
    "text": "5.59 Avoid gratuitousthree dimensional plots",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#avoid-gratuitousthree-dimensional-plots-2",
    "href": "data_viz.html#avoid-gratuitousthree-dimensional-plots-2",
    "title": "5  Data Visualization",
    "section": "5.60 Avoid gratuitousthree dimensional plots",
    "text": "5.60 Avoid gratuitousthree dimensional plots",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#avoid-too-any-significant-digits",
    "href": "data_viz.html#avoid-too-any-significant-digits",
    "title": "5  Data Visualization",
    "section": "5.61 Avoid too any significant digits",
    "text": "5.61 Avoid too any significant digits\n\nBy default, statistical software like R returns many significant digits.\nThe default behavior in R is to show 7 significant digits.\nSo many digits often adds no information and the visual clutter than can makes it hard for the consumer of your table to understand the message.\nAs an example here are the per 10,000 disease rates for California across the five decades",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#avoid-too-any-significant-digits-1",
    "href": "data_viz.html#avoid-too-any-significant-digits-1",
    "title": "5  Data Visualization",
    "section": "5.62 Avoid too any significant digits",
    "text": "5.62 Avoid too any significant digits\n\n\n\n\n\nstate\nyear\nMeasles\nPertussis\nPolio\n\n\n\n\nCalifornia\n1940\n37.8826320\n18.3397861\n0.8266512\n\n\nCalifornia\n1950\n13.9124205\n4.7467350\n1.9742639\n\n\nCalifornia\n1960\n14.1386471\nNA\n0.2640419\n\n\nCalifornia\n1970\n0.9767889\nNA\nNA\n\n\nCalifornia\n1980\n0.3743467\n0.0515466\nNA",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#avoid-too-any-significant-digits-2",
    "href": "data_viz.html#avoid-too-any-significant-digits-2",
    "title": "5  Data Visualization",
    "section": "5.63 Avoid too any significant digits",
    "text": "5.63 Avoid too any significant digits\n\nWe are reporting precision up to 0.00001 cases per 10,000, a very small value in the context the changes that are occurring across the dates.\nIn this case 2 significant figure is more than enough and makes the point that rates are decreasing clearly:",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#avoid-too-any-significant-digits-3",
    "href": "data_viz.html#avoid-too-any-significant-digits-3",
    "title": "5  Data Visualization",
    "section": "5.64 Avoid too any significant digits",
    "text": "5.64 Avoid too any significant digits\n\n\nWarning: `funs()` was deprecated in dplyr 0.8.0.\nℹ Please use a list of either functions or lambdas:\n\n# Simple named list: list(mean = mean, median = median)\n\n# Auto named with `tibble::lst()`: tibble::lst(mean, median)\n\n# Using lambdas list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))\n\n\n\n\n\nstate\nyear\nMeasles\nPertussis\nPolio\n\n\n\n\nCalifornia\n1940\n37.9\n18.3\n0.8\n\n\nCalifornia\n1950\n13.9\n4.7\n2.0\n\n\nCalifornia\n1960\n14.1\nNA\n0.3\n\n\nCalifornia\n1970\n1.0\nNA\nNA\n\n\nCalifornia\n1980\n0.4\n0.1\nNA",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#compare-vertically",
    "href": "data_viz.html#compare-vertically",
    "title": "5  Data Visualization",
    "section": "5.65 Compare vertically",
    "text": "5.65 Compare vertically\n\nAnother principle, related to displaying tables, is to place values being compared on columns rather than rows.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#compare-vertically-1",
    "href": "data_viz.html#compare-vertically-1",
    "title": "5  Data Visualization",
    "section": "5.66 Compare vertically",
    "text": "5.66 Compare vertically\n\n\nWarning: `funs()` was deprecated in dplyr 0.8.0.\nℹ Please use a list of either functions or lambdas:\n\n# Simple named list: list(mean = mean, median = median)\n\n# Auto named with `tibble::lst()`: tibble::lst(mean, median)\n\n# Using lambdas list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))\n\n\n\n\n\nstate\nyear\nMeasles\nPertussis\nPolio\n\n\n\n\nCalifornia\n1940\n37.9\n18.3\n0.8\n\n\nCalifornia\n1950\n13.9\n4.7\n2.0\n\n\nCalifornia\n1960\n14.1\nNA\n0.3\n\n\nCalifornia\n1970\n1.0\nNA\nNA\n\n\nCalifornia\n1980\n0.4\n0.1\nNA",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#do-not-compare-horizontally",
    "href": "data_viz.html#do-not-compare-horizontally",
    "title": "5  Data Visualization",
    "section": "5.67 Do not compare horizontally",
    "text": "5.67 Do not compare horizontally\n\n\nWarning: `funs()` was deprecated in dplyr 0.8.0.\nℹ Please use a list of either functions or lambdas:\n\n# Simple named list: list(mean = mean, median = median)\n\n# Auto named with `tibble::lst()`: tibble::lst(mean, median)\n\n# Using lambdas list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))\n\n\n\n\n\nstate\ndisease\n1940\n1950\n1960\n1970\n1980\n\n\n\n\nCalifornia\nMeasles\n37.9\n13.9\n14.1\n1\n0.4\n\n\nCalifornia\nPertussis\n18.3\n4.7\nNA\nNA\n0.1\n\n\nCalifornia\nPolio\n0.8\n2.0\n0.3\nNA\nNA",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "data_viz.html#further-reading",
    "href": "data_viz.html#further-reading",
    "title": "5  Data Visualization",
    "section": "5.68 Further reading:",
    "text": "5.68 Further reading:\n\nER Tufte (1983) The visual display of quantitative information. Graphics Press.\nER Tufte (1990) Envisioning information. Graphics Press.\nER Tufte (1997) Visual explanations. Graphics Press.\nWS Cleveland (1993) Visualizing data. Hobart Press.\nWS Cleveland (1994) The elements of graphing data. CRC Press.\nA Gelman, C Pasarica, R Dodhia (2002) Let’s practice what we preach: Turning tables into graphs. The American Statistician 56:121-130.\nNB Robbins (2004) Creating more effective graphs. Wiley.\nNature Methods columns\n\nA Cairo (2013) The Functional Art: An Introduction to Information Graphics and Visualization. New Riders\nN Yau (2013) Data Points: Visualization That Means Something. Wiley",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Data Visualization</span>"
    ]
  },
  {
    "objectID": "probability.html",
    "href": "probability.html",
    "title": "7  Probability",
    "section": "",
    "text": "7.1 Different flavors of inferential statistics",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#different-flavors-of-inferential-statistics",
    "href": "probability.html#different-flavors-of-inferential-statistics",
    "title": "7  Probability",
    "section": "",
    "text": "Frequentist Statistics\n\nClassical or standard approaches\nNull hypothesis testing\nGenomic data provides challenges\n\n\n\n\nHierarchical Probabilistic Modeling\n\nMaximum Likelihood\nBayesian Analyses\nMachine Learning",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#r-python-can-be-used-for-both-flavors",
    "href": "probability.html#r-python-can-be-used-for-both-flavors",
    "title": "7  Probability",
    "section": "7.2 R (&Python) can be used for both flavors",
    "text": "7.2 R (&Python) can be used for both flavors\n\n\n\n\n\n\n\n\n\n\nStan® is a platform for statistical modeling computation\nBayesian statistical inference with MCMC\napproximate Bayesian inference with variational inference\nmaximum likelihood estimation with optimization\nprobability functions & linear algebra",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#what-is-probability",
    "href": "probability.html#what-is-probability",
    "title": "7  Probability",
    "section": "7.3 What is probability",
    "text": "7.3 What is probability\n\nFrequency interpretation   “Probabilities are understood as mathematically convenient approximations to long run relative frequencies.”  \nSubjective interpretation   “A probability statement expresses the opinion of some individual regarding how certain an event is to occur.”",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#random-variables-probability",
    "href": "probability.html#random-variables-probability",
    "title": "7  Probability",
    "section": "7.4 Random variables & probability",
    "text": "7.4 Random variables & probability\n\n\nProbability is the expression of belief in some future outcome\nA random variable can take on different values with different probabilities\nThe sample space of a random variable is the universe of all possible values",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#random-variables-probability-1",
    "href": "probability.html#random-variables-probability-1",
    "title": "7  Probability",
    "section": "7.5 Random variables & probability",
    "text": "7.5 Random variables & probability\n\n\nThe sample space can be represented by a\n\nprobability distribution (discrete)\nprobability density function (continuous)\nalgebra and calculus are used for each respectively\nprobabilities of a sample space always sum to 1.0\n\n\nThere are many families or forms of distributions or PDFs\n\ndepends on the dynamical system they represent\nthe exact instantiation of the form depends on their parameter values\nwe are often interested in estimating parameters",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#bernoulli-distribution",
    "href": "probability.html#bernoulli-distribution",
    "title": "7  Probability",
    "section": "7.6 Bernoulli distribution",
    "text": "7.6 Bernoulli distribution\n\nDescribes the expected outcome of a single event with probability p\nExample of flipping of a fair coin once\n\n\n\\[Pr(X=\\text{Head}) = \\frac{1}{2} = 0.5 = p \\]\n\\[Pr(X=\\text{Tails}) = \\frac{1}{2} = 0.5 = 1 - p \\]",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#bernoulli-distribution-1",
    "href": "probability.html#bernoulli-distribution-1",
    "title": "7  Probability",
    "section": "7.7 Bernoulli distribution",
    "text": "7.7 Bernoulli distribution\n\nIf the coin isn’t fair then \\(p \\neq 0.5\\)\nHowever, the probabilities still sum to 1   \\[ p + (1-p) = 1 \\]  \nSame is true for other binary possibilities\n\nsuccess or failure\nyes or no answers\nchoosing an allele from a population based upon allele frequencies",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#probability-rules",
    "href": "probability.html#probability-rules",
    "title": "7  Probability",
    "section": "7.8 Probability rules",
    "text": "7.8 Probability rules\n\n\nFlip a coin twice\nRepresent the first flip as ‘X’ and the second flip as ‘Y’\n\n \n\\[ Pr(\\text{X=H and Y=H}) = p*p = p^2 \\] \\[ Pr(\\text{X=H and Y=T}) = p*p = p^2 \\] \\[ Pr(\\text{X=T and Y=H}) = p*p = p^2 \\] \\[ Pr(\\text{X=T and Y=T}) = p*p = p^2 \\]",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#probability-rules-1",
    "href": "probability.html#probability-rules-1",
    "title": "7  Probability",
    "section": "7.9 Probability rules",
    "text": "7.9 Probability rules\n\n\nProbability that the H and T can occur in any order\n\n\n\\[ \\text{Pr(X=H and Y=T) or Pr(X=T and Y=H)} = \\] \\[ (p*p) + (p*p) = 2p^{2} \\]  \n\nThese are the ‘and’ and ‘or’ rules of probability\n\n‘and’ means multiply the probabilities\n‘or’ means sum the probabilities\nmost probability distributions can be built up from these simple rules",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#expectation-and-moments-of-distributions",
    "href": "probability.html#expectation-and-moments-of-distributions",
    "title": "7  Probability",
    "section": "7.10 Expectation and Moments of Distributions",
    "text": "7.10 Expectation and Moments of Distributions\n\n\nDistributions have moments that can be estimated\n1st, 2nd, 3rd and 4th moments of a distribution?\nThe expectation or mean of a random variable X is:\n\n\\[E[X] = \\sum_{\\text{all x}}^{}xP(X=x) = \\mu\\] \n\nOften we want to know how dispersed the random variable is around its mean.\nOne measure of dispersion is the variance\n\n\\[Var(X) = E[X^2] = \\sigma^2\\]",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#joint-probability",
    "href": "probability.html#joint-probability",
    "title": "7  Probability",
    "section": "7.11 Joint probability",
    "text": "7.11 Joint probability\n  \\[Pr(X,Y) = Pr(X) * Pr(Y)\\]\n \n\nNote that this is true for two independent events\nHowever, for two non-independent events we also have to take into account their covariance\nTo do this we need conditional probabilities",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#conditional-probability",
    "href": "probability.html#conditional-probability",
    "title": "7  Probability",
    "section": "7.12 Conditional probability",
    "text": "7.12 Conditional probability\n\n\nFor two independent variables\n\n\\[Pr(Y|X) = Pr(Y)\\text{ and }Pr(X|Y) = Pr(X)\\]\n\n\nFor two non-independent variables\n\n\\[Pr(Y|X) \\neq Pr(Y)\\text{ and }Pr(X|Y) \\neq Pr(X)\\] \n\nVariables that are non-independent have a shared variance, which is also known as the covariance\nCovariance standardized to a mean of zero and a unit standard deviation is correlation",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#what-is-likelihood-vs.-probability",
    "href": "probability.html#what-is-likelihood-vs.-probability",
    "title": "7  Probability",
    "section": "7.13 What is Likelihood vs. Probability?",
    "text": "7.13 What is Likelihood vs. Probability?\n\nThe probability of an event is the proportion of times that the event would occur if we repeated a random trial over and over again under the same conditions.\nThe likelihood is a conditional probability of a parameter value given a set of data\nThe likelihood of a population parameter equaling a specific value, given the data\n\nL[parameter|data] = Pr[data|parameter]\n\nThis is the likelihood function which can have a maximum",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#a-bayesian-looks-at-estimation",
    "href": "probability.html#a-bayesian-looks-at-estimation",
    "title": "7  Probability",
    "section": "7.14 A Bayesian looks at estimation",
    "text": "7.14 A Bayesian looks at estimation\n\nA way of quantifying uncertainty of the population parameter, not our estimate of it, using prior information about the probability distribution of the parameter.\n\n\n\\[ P(\\theta|d) = \\frac{P(d|\\theta)P(\\theta)}{P(d)}\\]\nwhere \n\n\\(P(\\theta|d)\\) = posterior probability distribution \n\\(P(d|\\theta)\\) = likelihood function for \\(\\theta\\) \n\\(P(\\theta)\\) = prior probability distribution \n\\(P(d)\\) = mean of the likelihood function",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#who-wants-to-win-a-car",
    "href": "probability.html#who-wants-to-win-a-car",
    "title": "7  Probability",
    "section": "7.15 Who wants to win a car?",
    "text": "7.15 Who wants to win a car?\n\nPretend that there are three doors, and behind one is a car.\nYou choose one of the doors, and then Monte Hall opens one of the two remaining doors.\nAt this point you have the choice of changing doors or staying with your original choice. \nWhat should you do?",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#izzi-probability",
    "href": "probability.html#izzi-probability",
    "title": "7  Probability",
    "section": "7.16 Izzi probability",
    "text": "7.16 Izzi probability\nIn games of chance, probability has a very intuitive definition. For instance, we know what it means that the chance of a pair of dice coming up seven is 1 in 6. However, this is not the case in other contexts. Today probability theory is being used much more broadly with the word probability commonly used in everyday language. Google’s auto-complete of “What are the chances of” give us: “having twins”, “rain today”, “getting struck by lightning”, and “getting cancer”. One of the goals of this part of the book is to help us understand how probability is useful to understand and describe real-world events when performing data analysis.\nBecause knowing how to compute probabilities gives you an edge in games of chance, throughout history many smart individuals, including famous mathematicians such as Cardano, Fermat, and Pascal, spent time and energy thinking through the math of these games. As a result, Probability Theory was born. Probability continues to be highly useful in modern games of chance. For example, in poker, we can compute the probability of winning a hand based on the cards on the table. Also, casinos rely on probability theory to develop games that almost certainly guarantee a profit.\nProbability theory is useful in many other contexts and, in particular, in areas that depend on data affected by chance in some way. All of the other chapters in this part build upon probability theory. Knowledge of probability is therefore indispensable for data science.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#discrete-probability",
    "href": "probability.html#discrete-probability",
    "title": "7  Probability",
    "section": "7.17 Discrete probability",
    "text": "7.17 Discrete probability\nWe start by covering some basic principles related to categorical data. The subset of probability is referred to as discrete probability. It will help us understand the probability theory we will later introduce for numeric and continuous data, which is much more common in data science applications. Discrete probability is more useful in card games and therefore we use these as examples.\n\n7.17.1 Relative frequency\nThe word probability is used in everyday language. Answering questions about probability is often hard, if not impossible. Here we discuss a mathematical definition of probability that does permit us to give precise answers to certain questions.\nFor example, if I have 2 red beads and 3 blue beads inside an urn1 (most probability books use this archaic term, so we do too) and I pick one at random, what is the probability of picking a red one? Our intuition tells us that the answer is 2/5 or 40%. A precise definition can be given by noting that there are five possible outcomes of which two satisfy the condition necessary for the event “pick a red bead”. Since each of the five outcomes has the same chance of occurring, we conclude that the probability is .4 for red and .6 for blue.\nA more tangible way to think about the probability of an event is as the proportion of times the event occurs when we repeat the experiment an infinite number of times, independently, and under the same conditions.\n\n\n7.17.2 Notation\nWe use the notation \\(\\mbox{Pr}(A)\\) to denote the probability of event \\(A\\) happening. We use the very general term event to refer to things that can happen when something occurs by chance. In our previous example, the event was “picking a red bead”. In a political poll in which we call 100 likely voters at random, an example of an event is “calling 48 Democrats and 52 Republicans”.\nIn data science applications, we will often deal with continuous variables. These events will often be things like “is this person taller than 6 feet”. In this case, we write events in a more mathematical form: \\(X \\geq 6\\). We will see more of these examples later. Here we focus on categorical data.\n\n\n7.17.3 Probability distributions\nIf we know the relative frequency of the different categories, defining a distribution for categorical outcomes is relatively straightforward. We simply assign a probability to each category. In cases that can be thought of as beads in an urn, for each bead type, their proportion defines the distribution.\nIf we are randomly calling likely voters from a population that is 44% Democrat, 44% Republican, 10% undecided, and 2% Green Party, these proportions define the probability for each group. The probability distribution is:\n\n\n\nPr(picking a Republican)\n=\n0.44\n\n\nPr(picking a Democrat)\n=\n0.44\n\n\nPr(picking an undecided)\n=\n0.10\n\n\nPr(picking a Green)\n=\n0.02",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#monte-carlo-simulations-for-categorical-data",
    "href": "probability.html#monte-carlo-simulations-for-categorical-data",
    "title": "7  Probability",
    "section": "7.18 Monte Carlo simulations for categorical data",
    "text": "7.18 Monte Carlo simulations for categorical data\nComputers provide a way to actually perform the simple random experiment described above: pick a bead at random from a bag that contains three blue beads and two red ones. Random number generators permit us to mimic the process of picking at random.\nAn example is the sample function in R. We demonstrate its use in the code below. First, we use the function rep to generate the urn:\n\nbeads &lt;- rep(c(\"red\", \"blue\"), times = c(2,3))\nbeads\n\n[1] \"red\"  \"red\"  \"blue\" \"blue\" \"blue\"\n\n\nand then use sample to pick a bead at random:\n\nsample(beads, 1)\n\n[1] \"blue\"\n\n\nThis line of code produces one random outcome. We want to repeat this experiment an infinite number of times, but it is impossible to repeat forever. Instead, we repeat the experiment a large enough number of times to make the results practically equivalent to repeating forever. This is an example of a Monte Carlo simulation.\nMuch of what mathematical and theoretical statisticians study, which we do not cover in this book, relates to providing rigorous definitions of “practically equivalent” as well as studying how close a large number of experiments gets us to what happens in the limit. Later in this section, we provide a practical approach to deciding what is “large enough”.\nTo perform our first Monte Carlo simulation, we use the replicate function, which permits us to repeat the same task any number of times. Here, we repeat the random event \\(B =\\) 10,000 times:\n\nB &lt;- 10000\nevents &lt;- replicate(B, sample(beads, 1))\n\nWe can now see if our definition actually is in agreement with this Monte Carlo simulation approximation. We can use table to see the distribution:\n\ntab &lt;- table(events)\ntab\n\nevents\nblue  red \n6032 3968 \n\n\nand prop.table gives us the proportions:\n\nprop.table(tab)\n\nevents\n  blue    red \n0.6032 0.3968 \n\n\nThe numbers above are the estimated probabilities provided by this Monte Carlo simulation. Statistical theory, not covered here, tells us that as \\(B\\) gets larger, the estimates get closer to 3/5=.6 and 2/5=.4.\nAlthough this is a simple and not very useful example, we will use Monte Carlo simulations to estimate probabilities in cases in which it is harder to compute the exact ones. Before delving into more complex examples, we use simple ones to demonstrate the computing tools available in R.\n\n7.18.1 Setting the random seed\nBefore we continue, we will briefly explain the following important line of code:\n\nset.seed(1986) \n\nThroughout this book, we use random number generators. This implies that many of the results presented can actually change by chance, which then suggests that a frozen version of the book may show a different result than what you obtain when you try to code as shown in the book. This is actually fine since the results are random and change from time to time. However, if you want to ensure that results are exactly the same every time you run them, you can set R’s random number generation seed to a specific number. Above we set it to 1986. We want to avoid using the same seed everytime. A popular way to pick the seed is the year - month - day. For example, we picked 1986 on December 20, 2018: \\(2018 - 12 - 20 = 1986\\).\nYou can learn more about setting the seed by looking at the documentation:\n\n?set.seed\n\nIn the exercises, we may ask you to set the seed to assure that the results you obtain are exactly what we expect them to be.\n\n\n7.18.2 With and without replacement\nThe function sample has an argument that permits us to pick more than one element from the urn. However, by default, this selection occurs without replacement: after a bead is selected, it is not put back in the bag. Notice what happens when we ask to randomly select five beads:\n\nsample(beads, 5)\n\n[1] \"red\"  \"blue\" \"blue\" \"blue\" \"red\" \n\nsample(beads, 5)\n\n[1] \"red\"  \"red\"  \"blue\" \"blue\" \"blue\"\n\nsample(beads, 5)\n\n[1] \"blue\" \"red\"  \"blue\" \"red\"  \"blue\"\n\n\nThis results in rearrangements that always have three blue and two red beads. If we ask that six beads be selected, we get an error:\n\nsample(beads, 6)\n\nError in sample.int(length(x), size, replace, prob) :    cannot take a sample larger than the population when 'replace = FALSE'\nHowever, the sample function can be used directly, without the use of replicate, to repeat the same experiment of picking 1 out of the 5 beads, continually, under the same conditions. To do this, we sample with replacement: return the bead back to the urn after selecting it. We can tell sample to do this by changing the replace argument, which defaults to FALSE, to replace = TRUE:\n\nevents &lt;- sample(beads, B, replace = TRUE)\nprop.table(table(events))\n\nevents\n  blue    red \n0.6017 0.3983 \n\n\nNot surprisingly, we get results very similar to those previously obtained with replicate.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#independence",
    "href": "probability.html#independence",
    "title": "7  Probability",
    "section": "7.19 Independence",
    "text": "7.19 Independence\nWe say two events are independent if the outcome of one does not affect the other. The classic example is coin tosses. Every time we toss a fair coin, the probability of seeing heads is 1/2 regardless of what previous tosses have revealed. The same is true when we pick beads from an urn with replacement. In the example above, the probability of red is 0.40 regardless of previous draws.\nMany examples of events that are not independent come from card games. When we deal the first card, the probability of getting a King is 1/13 since there are thirteen possibilities: Ace, Deuce, Three, \\(\\dots\\), Ten, Jack, Queen, King, and Ace. Now if we deal a King for the first card, and don’t replace it into the deck, the probabilities of a second card being a King is less because there are only three Kings left: the probability is 3 out of 51. These events are therefore not independent: the first outcome affected the next one.\nTo see an extreme case of non-independent events, consider our example of drawing five beads at random without replacement:\n\nx &lt;- sample(beads, 5)\n\nIf you have to guess the color of the first bead, you will predict blue since blue has a 60% chance. But if I show you the result of the last four outcomes:\n\nx[2:5]\n\n[1] \"blue\" \"blue\" \"blue\" \"red\" \n\n\nwould you still guess blue? Of course not. Now you know that the probability of red is 1 since the only bead left is red. The events are not independent, so the probabilities change.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#conditional-probabilities",
    "href": "probability.html#conditional-probabilities",
    "title": "7  Probability",
    "section": "7.20 Conditional probabilities",
    "text": "7.20 Conditional probabilities\nWhen events are not independent, conditional probabilities are useful. We already saw an example of a conditional probability: we computed the probability that a second dealt card is a King given that the first was a King. In probability, we use the following notation:\n\\[\n\\mbox{Pr}(\\mbox{Card 2 is a king} \\mid \\mbox{Card 1 is a king}) = 3/51\n\\]\nWe use the \\(\\mid\\) as shorthand for “given that” or “conditional on”.\nWhen two events, say \\(A\\) and \\(B\\), are independent, we have:\n\\[\n\\mbox{Pr}(A \\mid B) = \\mbox{Pr}(A)\n\\]\nThis is the mathematical way of saying: the fact that \\(B\\) happened does not affect the probability of \\(A\\) happening. In fact, this can be considered the mathematical definition of independence.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#addition-and-multiplication-rules",
    "href": "probability.html#addition-and-multiplication-rules",
    "title": "7  Probability",
    "section": "7.21 Addition and multiplication rules",
    "text": "7.21 Addition and multiplication rules\n\n7.21.1 Multiplication rule\nIf we want to know the probability of two events, say \\(A\\) and \\(B\\), occurring, we can use the multiplication rule:\n\\[\n\\mbox{Pr}(A \\mbox{ and } B) = \\mbox{Pr}(A)\\mbox{Pr}(B \\mid A)\n\\] Let’s use Blackjack as an example. In Blackjack, you are assigned two random cards. After you see what you have, you can ask for more. The goal is to get closer to 21 than the dealer, without going over. Face cards are worth 10 points and Aces are worth 11 or 1 (you choose).\nSo, in a Blackjack game, to calculate the chances of getting a 21 by drawing an Ace and then a face card, we compute the probability of the first being an Ace and multiply by the probability of drawing a face card or a 10 given that the first was an Ace: \\(1/13 \\times 16/51 \\approx 0.025\\)\nThe multiplication rule also applies to more than two events. We can use induction to expand for more events:\n\\[\n\\mbox{Pr}(A \\mbox{ and } B \\mbox{ and } C) = \\mbox{Pr}(A)\\mbox{Pr}(B \\mid A)\\mbox{Pr}(C \\mid A \\mbox{ and } B)\n\\]\n\n\n7.21.2 Multiplication rule under independence\nWhen we have independent events, then the multiplication rule becomes simpler:\n\\[\n\\mbox{Pr}(A \\mbox{ and } B \\mbox{ and } C) = \\mbox{Pr}(A)\\mbox{Pr}(B)\\mbox{Pr}(C)\n\\]\nBut we have to be very careful before using this since assuming independence can result in very different and incorrect probability calculations when we don’t actually have independence.\nAs an example, imagine a court case in which the suspect was described as having a mustache and a beard. The defendant has a mustache and a beard and the prosecution brings in an “expert” to testify that 1/10 men have beards and 1/5 have mustaches, so using the multiplication rule we conclude that only \\(1/10 \\times 1/5\\) or 0.02 have both.\nBut to multiply like this we need to assume independence! Say the conditional probability of a man having a mustache conditional on him having a beard is .95. So the correct calculation probability is much higher: \\(1/10 \\times 95/100 = 0.095\\).\nThe multiplication rule also gives us a general formula for computing conditional probabilities:\n\\[\n\\mbox{Pr}(B \\mid A) = \\frac{\\mbox{Pr}(A \\mbox{ and } B)}{ \\mbox{Pr}(A)}\n\\]\nTo illustrate how we use these formulas and concepts in practice, we will use several examples related to card games.\n\n\n7.21.3 Addition rule\nThe addition rule tells us that:\n\\[\n\\mbox{Pr}(A \\mbox{ or } B) = \\mbox{Pr}(A) + \\mbox{Pr}(B) - \\mbox{Pr}(A \\mbox{ and } B)\n\\]\nThis rule is intuitive: think of a Venn diagram. If we simply add the probabilities, we count the intersection twice so we need to substract one instance.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#combinations-and-permutations",
    "href": "probability.html#combinations-and-permutations",
    "title": "7  Probability",
    "section": "7.22 Combinations and permutations",
    "text": "7.22 Combinations and permutations\nIn our very first example, we imagined an urn with five beads. As a reminder, to compute the probability distribution of one draw, we simply listed out all the possibilities. There were 5 and so then, for each event, we counted how many of these possibilities were associated with the event. The resulting probability of choosing a blue bead is 3/5 because out of the five possible outcomes, three were blue.\nFor more complicated cases, the computations are not as straightforward. For instance, what is the probability that if I draw five cards without replacement, I get all cards of the same suit, what is known as a “flush” in poker? In a discrete probability course you learn theory on how to make these computations. Here we focus on how to use R code to compute the answers.\nFirst, let’s construct a deck of cards. For this, we will use the expand.grid and paste functions. We use paste to create strings by joining smaller strings. To do this, we take the number and suit of a card and create the card name like this:\n\nnumber &lt;- \"Three\"\nsuit &lt;- \"Hearts\"\npaste(number, suit)\n\n[1] \"Three Hearts\"\n\n\npaste also works on pairs of vectors performing the operation element-wise:\n\npaste(letters[1:5], as.character(1:5))\n\n[1] \"a 1\" \"b 2\" \"c 3\" \"d 4\" \"e 5\"\n\n\nThe function expand.grid gives us all the combinations of entries of two vectors. For example, if you have blue and black pants and white, grey, and plaid shirts, all your combinations are:\n\nexpand.grid(pants = c(\"blue\", \"black\"), shirt = c(\"white\", \"grey\", \"plaid\"))\n\n  pants shirt\n1  blue white\n2 black white\n3  blue  grey\n4 black  grey\n5  blue plaid\n6 black plaid\n\n\nHere is how we generate a deck of cards:\n\nsuits &lt;- c(\"Diamonds\", \"Clubs\", \"Hearts\", \"Spades\")\nnumbers &lt;- c(\"Ace\", \"Deuce\", \"Three\", \"Four\", \"Five\", \"Six\", \"Seven\", \n             \"Eight\", \"Nine\", \"Ten\", \"Jack\", \"Queen\", \"King\")\ndeck &lt;- expand.grid(number=numbers, suit=suits)\ndeck &lt;- paste(deck$number, deck$suit)\n\nWith the deck constructed, we can double check that the probability of a King in the first card is 1/13 by computing the proportion of possible outcomes that satisfy our condition:\n\nkings &lt;- paste(\"King\", suits)\nmean(deck %in% kings)\n\n[1] 0.07692308\n\n\nNow, how about the conditional probability of the second card being a King given that the first was a King? Earlier, we deduced that if one King is already out of the deck and there are 51 left, then this probability is 3/51. Let’s confirm by listing out all possible outcomes.\nTo do this, we can use the permutations function from the gtools package. For any list of size n, this function computes all the different combinations we can get when we select r items. Here are all the ways we can choose two numbers from a list consisting of 1,2,3:\n\nlibrary(gtools)\npermutations(3, 2)\n\n     [,1] [,2]\n[1,]    1    2\n[2,]    1    3\n[3,]    2    1\n[4,]    2    3\n[5,]    3    1\n[6,]    3    2\n\n\nNotice that the order matters here: 3,1 is different than 1,3. Also, note that (1,1), (2,2), and (3,3) do not appear because once we pick a number, it can’t appear again.\nOptionally, we can add a vector. If you want to see five random seven digit phone numbers out of all possible phone numbers (without repeats), you can type:\n\nall_phone_numbers &lt;- permutations(10, 7, v = 0:9)\nn &lt;- nrow(all_phone_numbers)\nindex &lt;- sample(n, 5)\nall_phone_numbers[index,]\n\n     [,1] [,2] [,3] [,4] [,5] [,6] [,7]\n[1,]    1    3    8    0    6    7    5\n[2,]    2    9    1    6    4    8    0\n[3,]    5    1    6    0    9    8    2\n[4,]    7    4    6    0    2    8    1\n[5,]    4    6    5    9    2    8    0\n\n\nInstead of using the numbers 1 through 10, the default, it uses what we provided through v: the digits 0 through 9.\nTo compute all possible ways we can choose two cards when the order matters, we type:\n\nhands &lt;- permutations(52, 2, v = deck)\n\nThis is a matrix with two columns and 2652 rows. With a matrix we can get the first and second cards like this:\n\nfirst_card &lt;- hands[,1]\nsecond_card &lt;- hands[,2]\n\nNow the cases for which the first hand was a King can be computed like this:\n\nkings &lt;- paste(\"King\", suits)\nsum(first_card %in% kings)\n\n[1] 204\n\n\nTo get the conditional probability, we compute what fraction of these have a King in the second card:\n\nsum(first_card%in%kings & second_card%in%kings) / sum(first_card%in%kings)\n\n[1] 0.05882353\n\n\nwhich is exactly 3/51, as we had already deduced. Notice that the code above is equivalent to:\n\nmean(first_card%in%kings & second_card%in%kings) / mean(first_card%in%kings)\n\n[1] 0.05882353\n\n\nwhich uses mean instead of sum and is an R version of:\n\\[\n\\frac{\\mbox{Pr}(A \\mbox{ and } B)}{ \\mbox{Pr}(A)}\n\\]\nHow about if the order doesn’t matter? For example, in Blackjack if you get an Ace and a face card in the first draw, it is called a Natural 21 and you win automatically. If we wanted to compute the probability of this happening, we would enumerate the combinations, not the permutations, since the order does not matter.\n\ncombinations(3,2)\n\n     [,1] [,2]\n[1,]    1    2\n[2,]    1    3\n[3,]    2    3\n\n\nIn the second line, the outcome does not include (2,1) because (1,2) already was enumerated. The same applies to (3,1) and (3,2).\nSo to compute the probability of a Natural 21 in Blackjack, we can do this:\n\naces &lt;- paste(\"Ace\", suits)\n\nfacecard &lt;- c(\"King\", \"Queen\", \"Jack\", \"Ten\")\nfacecard &lt;- expand.grid(number = facecard, suit = suits)\nfacecard &lt;- paste(facecard$number, facecard$suit)\n\nhands &lt;- combinations(52, 2, v = deck)\nmean(hands[,1] %in% aces & hands[,2] %in% facecard)\n\n[1] 0.04826546\n\n\nIn the last line, we assume the Ace comes first. This is only because we know the way combination enumerates possibilities and it will list this case first. But to be safe, we could have written this and produced the same answer:\n\nmean((hands[,1] %in% aces & hands[,2] %in% facecard) |\n       (hands[,2] %in% aces & hands[,1] %in% facecard))\n\n[1] 0.04826546\n\n\n\n7.22.1 Monte Carlo example\nInstead of using combinations to deduce the exact probability of a Natural 21, we can use a Monte Carlo to estimate this probability. In this case, we draw two cards over and over and keep track of how many 21s we get. We can use the function sample to draw two cards without replacements:\n\nhand &lt;- sample(deck, 2)\nhand\n\n[1] \"Queen Clubs\"  \"Seven Spades\"\n\n\nAnd then check if one card is an Ace and the other a face card or a 10. Going forward, we include 10 when we say face card. Now we need to check both possibilities:\n\n(hands[1] %in% aces & hands[2] %in% facecard) | \n  (hands[2] %in% aces & hands[1] %in% facecard)\n\n[1] FALSE\n\n\nIf we repeat this 10,000 times, we get a very good approximation of the probability of a Natural 21.\nLet’s start by writing a function that draws a hand and returns TRUE if we get a 21. The function does not need any arguments because it uses objects defined in the global environment.\n\nblackjack &lt;- function(){\n   hand &lt;- sample(deck, 2)\n  (hand[1] %in% aces & hand[2] %in% facecard) | \n    (hand[2] %in% aces & hand[1] %in% facecard)\n}\n\nHere we do have to check both possibilities: Ace first or Ace second because we are not using the combinations function. The function returns TRUE if we get a 21 and FALSE otherwise:\n\nblackjack()\n\n[1] FALSE\n\n\nNow we can play this game, say, 10,000 times:\n\nB &lt;- 10000\nresults &lt;- replicate(B, blackjack())\nmean(results)\n\n[1] 0.0475",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#examples",
    "href": "probability.html#examples",
    "title": "7  Probability",
    "section": "7.23 Examples",
    "text": "7.23 Examples\nIn this section, we describe two discrete probability popular examples: the Monty Hall problem and the birthday problem. We use R to help illustrate the mathematical concepts.\n\n7.23.1 Monty Hall problem\nIn the 1970s, there was a game show called “Let’s Make a Deal” and Monty Hall was the host. At some point in the game, contestants were asked to pick one of three doors. Behind one door there was a prize. The other doors had a goat behind them to show the contestant they had lost. After the contestant picked a door, before revealing whether the chosen door contained a prize, Monty Hall would open one of the two remaining doors and show the contestant there was no prize behind that door. Then he would ask “Do you want to switch doors?” What would you do?\nWe can use probability to show that if you stick with the original door choice, your chances of winning a prize remain 1 in 3. However, if you switch to the other door, your chances of winning double to 2 in 3! This seems counterintuitive. Many people incorrectly think both chances are 1 in 2 since you are choosing between 2 options. You can watch a detailed mathematical explanation on Khan Academy2 or read one on Wikipedia3. Below we use a Monte Carlo simulation to see which strategy is better. Note that this code is written longer than it should be for pedagogical purposes.\nLet’s start with the stick strategy:\n\nB &lt;- 10000\nmonty_hall &lt;- function(strategy){\n  doors &lt;- as.character(1:3)\n  prize &lt;- sample(c(\"car\", \"goat\", \"goat\"))\n  prize_door &lt;- doors[prize == \"car\"]\n  my_pick  &lt;- sample(doors, 1)\n  show &lt;- sample(doors[!doors %in% c(my_pick, prize_door)],1)\n  stick &lt;- my_pick\n  stick == prize_door\n  switch &lt;- doors[!doors%in%c(my_pick, show)]\n  choice &lt;- ifelse(strategy == \"stick\", stick, switch)\n  choice == prize_door\n}\nstick &lt;- replicate(B, monty_hall(\"stick\"))\nmean(stick)\n\n[1] 0.3416\n\nswitch &lt;- replicate(B, monty_hall(\"switch\"))\nmean(switch)\n\n[1] 0.6682\n\n\nAs we write the code, we note that the lines starting with my_pick and show have no influence on the last logical operation when we stick to our original choice anyway. From this we should realize that the chance is 1 in 3, what we began with. When we switch, the Monte Carlo estimate confirms the 2/3 calculation. This helps us gain some insight by showing that we are removing a door, show, that is definitely not a winner from our choices. We also see that unless we get it right when we first pick, you win: 1 - 1/3 = 2/3.\n\n\n7.23.2 Birthday problem\nSuppose you are in a classroom with 50 people. If we assume this is a randomly selected group of 50 people, what is the chance that at least two people have the same birthday? Although it is somewhat advanced, we can deduce this mathematically. We will do this later. Here we use a Monte Carlo simulation. For simplicity, we assume nobody was born on February 29. This actually doesn’t change the answer much.\nFirst, note that birthdays can be represented as numbers between 1 and 365, so a sample of 50 birthdays can be obtained like this:\n\nn &lt;- 50\nbdays &lt;- sample(1:365, n, replace = TRUE)\n\nTo check if in this particular set of 50 people we have at least two with the same birthday, we can use the function duplicated, which returns TRUE whenever an element of a vector is a duplicate. Here is an example:\n\nduplicated(c(1,2,3,1,4,3,5))\n\n[1] FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE\n\n\nThe second time 1 and 3 appear, we get a TRUE. So to check if two birthdays were the same, we simply use the any and duplicated functions like this:\n\nany(duplicated(bdays))\n\n[1] TRUE\n\n\nIn this case, we see that it did happen. At least two people had the same birthday.\nTo estimate the probability of a shared birthday in the group, we repeat this experiment by sampling sets of 50 birthdays over and over:\n\nB &lt;- 10000\nsame_birthday &lt;- function(n){\n  bdays &lt;- sample(1:365, n, replace=TRUE)\n  any(duplicated(bdays))\n}\nresults &lt;- replicate(B, same_birthday(50))\nmean(results)\n\n[1] 0.9691\n\n\nWere you expecting the probability to be this high?\nPeople tend to underestimate these probabilities. To get an intuition as to why it is so high, think about what happens when the group size is close to 365. At this stage, we run out of days and the probability is one.\nSay we want to use this knowledge to bet with friends about two people having the same birthday in a group of people. When are the chances larger than 50%? Larger than 75%?\nLet’s create a look-up table. We can quickly create a function to compute this for any group size:\n\ncompute_prob &lt;- function(n, B=10000){\n  results &lt;- replicate(B, same_birthday(n))\n  mean(results)\n}\n\nUsing the function sapply, we can perform element-wise operations on any function:\n\nn &lt;- seq(1,60)\nprob &lt;- sapply(n, compute_prob)\n\nWe can now make a plot of the estimated probabilities of two people having the same birthday in a group of size \\(n\\):\n\nlibrary(tidyverse)\nprob &lt;- sapply(n, compute_prob)\nqplot(n, prob)\n\n\n\n\n\n\n\n\nNow let’s compute the exact probabilities rather than use Monte Carlo approximations. Not only do we get the exact answer using math, but the computations are much faster since we don’t have to generate experiments.\nTo make the math simpler, instead of computing the probability of it happening, we will compute the probability of it not happening. For this, we use the multiplication rule.\nLet’s start with the first person. The probability that person 1 has a unique birthday is 1. The probability that person 2 has a unique birthday, given that person 1 already took one, is 364/365. Then, given that the first two people have unique birthdays, person 3 is left with 363 days to choose from. We continue this way and find the chances of all 50 people having a unique birthday is:\n\\[\n1 \\times \\frac{364}{365}\\times\\frac{363}{365} \\dots \\frac{365-n + 1}{365}\n\\]\nWe can write a function that does this for any number:\n\nexact_prob &lt;- function(n){\n  prob_unique &lt;- seq(365,365-n+1)/365 \n  1 - prod( prob_unique)\n}\neprob &lt;- sapply(n, exact_prob)\nqplot(n, prob) + geom_line(aes(n, eprob), col = \"red\")\n\n\n\n\n\n\n\n\nThis plot shows that the Monte Carlo simulation provided a very good estimate of the exact probability. Had it not been possible to compute the exact probabilities, we would have still been able to accurately estimate the probabilities.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#infinity-in-practice",
    "href": "probability.html#infinity-in-practice",
    "title": "7  Probability",
    "section": "7.24 Infinity in practice",
    "text": "7.24 Infinity in practice\nThe theory described here requires repeating experiments over and over forever. In practice we can’t do this. In the examples above, we used \\(B=10,000\\) Monte Carlo experiments and it turned out that this provided accurate estimates. The larger this number, the more accurate the estimate becomes until the approximaton is so good that your computer can’t tell the difference. But in more complex calculations, 10,000 may not be nearly enough. Also, for some calculations, 10,000 experiments might not be computationally feasible. In practice, we won’t know what the answer is, so we won’t know if our Monte Carlo estimate is accurate. We know that the larger \\(B\\), the better the approximation. But how big do we need it to be? This is actually a challenging question and answering it often requires advanced theoretical statistics training.\nOne practical approach we will describe here is to check for the stability of the estimate. The following is an example with the birthday problem for a group of 25 people.\n\nB &lt;- 10^seq(1, 5, len = 100)\ncompute_prob &lt;- function(B, n=25){\n  same_day &lt;- replicate(B, same_birthday(n))\n  mean(same_day)\n}\nprob &lt;- sapply(B, compute_prob)\nqplot(log10(B), prob, geom = \"line\")\n\n\n\n\n\n\n\n\nIn this plot, we can see that the values start to stabilize (that is, they vary less than .01) around 1000. Note that the exact probability, which we know in this case, is 0.5686997.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#exercises",
    "href": "probability.html#exercises",
    "title": "7  Probability",
    "section": "7.25 Exercises",
    "text": "7.25 Exercises\n1. One ball will be drawn at random from a box containing: 3 cyan balls, 5 magenta balls, and 7 yellow balls. What is the probability that the ball will be cyan?\n2. What is the probability that the ball will not be cyan?\n3. Instead of taking just one draw, consider taking two draws. You take the second draw without returning the first draw to the box. We call this sampling without replacement. What is the probability that the first draw is cyan and that the second draw is not cyan?\n4. Now repeat the experiment, but this time, after taking the first draw and recording the color, return it to the box and shake the box. We call this sampling with replacement. What is the probability that the first draw is cyan and that the second draw is not cyan?\n5. Two events \\(A\\) and \\(B\\) are independent if \\(\\mbox{Pr}(A \\mbox{ and } B) = \\mbox{Pr}(A) P(B)\\). Under which situation are the draws independent?\n\nYou don’t replace the draw.\nYou replace the draw.\nNeither\nBoth\n\n6. Say you’ve drawn 5 balls from the box, with replacement, and all have been yellow. What is the probability that the next one is yellow?\n7. If you roll a 6-sided die six times, what is the probability of not seeing a 6?\n8. Two teams, say the Celtics and the Cavs, are playing a seven game series. The Cavs are a better team and have a 60% chance of winning each game. What is the probability that the Celtics win at least one game?\n9. Create a Monte Carlo simulation to confirm your answer to the previous problem. Use B &lt;- 10000 simulations. Hint: use the following code to generate the results of the first four games:\n\nceltic_wins &lt;- sample(c(0,1), 4, replace = TRUE, prob = c(0.6, 0.4))\n\nThe Celtics must win one of these 4 games.\n10. Two teams, say the Cavs and the Warriors, are playing a seven game championship series. The first to win four games, therefore, wins the series. The teams are equally good so they each have a 50-50 chance of winning each game. If the Cavs lose the first game, what is the probability that they win the series?\n11. Confirm the results of the previous question with a Monte Carlo simulation.\n12. Two teams, \\(A\\) and \\(B\\), are playing a seven game series. Team \\(A\\) is better than team \\(B\\) and has a \\(p&gt;0.5\\) chance of winning each game. Given a value \\(p\\), the probability of winning the series for the underdog team \\(B\\) can be computed with the following function based on a Monte Carlo simulation:\n\nprob_win &lt;- function(p){\n  B &lt;- 10000\n  result &lt;- replicate(B, {\n    b_win &lt;- sample(c(1,0), 7, replace = TRUE, prob = c(1-p, p))\n    sum(b_win)&gt;=4\n  })\n  mean(result)\n}\n\nUse the function sapply to compute the probability, call it Pr, of winning for p &lt;- seq(0.5, 0.95, 0.025). Then plot the result.\n13. Repeat the exercise above, but now keep the probability fixed at p &lt;- 0.75 and compute the probability for different series lengths: best of 1 game, 3 games, 5 games,… Specifically, N &lt;- seq(1, 25, 2). Hint: use this function:\n\nprob_win &lt;- function(N, p=0.75){\n  B &lt;- 10000\n  result &lt;- replicate(B, {\n    b_win &lt;- sample(c(1,0), N, replace = TRUE, prob = c(1-p, p))\n    sum(b_win)&gt;=(N+1)/2\n  })\n  mean(result)\n}",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#continuous-probability",
    "href": "probability.html#continuous-probability",
    "title": "7  Probability",
    "section": "7.26 Continuous probability",
    "text": "7.26 Continuous probability\nIn Section @ref(cdf-intro), we explained why when summarizing a list of numeric values, such as heights, it is not useful to construct a distribution that defines a proportion to each possible outcome. For example, if we measure every single person in a very large population of size \\(n\\) with extremely high precision, since no two people are exactly the same height, we need to assign the proportion \\(1/n\\) to each observed value and attain no useful summary at all. Similarly, when defining probability distributions, it is not useful to assign a very small probability to every single height.\nJust as when using distributions to summarize numeric data, it is much more practical to define a function that operates on intervals rather than single values. The standard way of doing this is using the cumulative distribution function (CDF).\nWe described empirical cumulative distribution function (eCDF) in Section @ref(cdf-intro) as a basic summary of a list of numeric values. As an example, we earlier defined the height distribution for adult male students. Here, we define the vector \\(x\\) to contain these heights:\n\nlibrary(tidyverse)\nlibrary(dslabs)\ndata(heights)\nx &lt;- heights %&gt;% filter(sex==\"Male\") %&gt;% pull(height)\n\nWe defined the empirical distribution function as:\n\nF &lt;- function(a) mean(x&lt;=a)\n\nwhich, for any value a, gives the proportion of values in the list x that are smaller or equal than a.\nKeep in mind that we have not yet introduced probability in the context of CDFs. Let’s do this by asking the following: if I pick one of the male students at random, what is the chance that he is taller than 70.5 inches? Because every student has the same chance of being picked, the answer to this is equivalent to the proportion of students that are taller than 70.5 inches. Using the CDF we obtain an answer by typing:\n\n1 - F(70)\n\n[1] 0.3768473\n\n\nOnce a CDF is defined, we can use this to compute the probability of any subset. For instance, the probability of a student being between height a and height b is:\n\nF(b)-F(a)\n\nBecause we can compute the probability for any possible event this way, the cumulative probability function defines the probability distribution for picking a height at random from our vector of heights x.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#theoretical-continuous-distributions",
    "href": "probability.html#theoretical-continuous-distributions",
    "title": "7  Probability",
    "section": "7.27 Theoretical continuous distributions",
    "text": "7.27 Theoretical continuous distributions\nIn Section @ref(normal-distribution) we introduced the normal distribution as a useful approximation to many naturally occurring distributions, including that of height. The cumulative distribution for the normal distribution is defined by a mathematical formula which in R can be obtained with the function pnorm. We say that a random quantity is normally distributed with average m and standard deviation s if its probability distribution is defined by:\n\nF(a) = pnorm(a, m, s)\n\nThis is useful because if we are willing to use the normal approximation for, say, height, we don’t need the entire dataset to answer questions such as: what is the probability that a randomly selected student is taller then 70 inches? We just need the average height and standard deviation:\n\nm &lt;- mean(x)\ns &lt;- sd(x)\n1 - pnorm(70.5, m, s)\n\n[1] 0.371369\n\n\n\n7.27.1 Theoretical distributions as approximations\nThe normal distribution is derived mathematically: we do not need data to define it. For practicing data scientists, almost everything we do involves data. Data is always, technically speaking, discrete. For example, we could consider our height data categorical with each specific height a unique category. The probability distribution is defined by the proportion of students reporting each height. Here is a plot of that probability distribution:\n\n\n\n\n\n\n\n\n\nWhile most students rounded up their heights to the nearest inch, others reported values with more precision. One student reported his height to be 69.6850393700787, which is 177 centimeters. The probability assigned to this height is 0.0012315 or 1 in 812. The probability for 70 inches is much higher at 0.1059113, but does it really make sense to think of the probability of being exactly 70 inches as being different than 69.6850393700787? Clearly it is much more useful for data analytic purposes to treat this outcome as a continuous numeric variable, keeping in mind that very few people, or perhaps none, are exactly 70 inches, and that the reason we get more values at 70 is because people round to the nearest inch.\nWith continuous distributions, the probability of a singular value is not even defined. For example, it does not make sense to ask what is the probability that a normally distributed value is 70. Instead, we define probabilities for intervals. We thus could ask what is the probability that someone is between 69.5 and 70.5.\nIn cases like height, in which the data is rounded, the normal approximation is particularly useful if we deal with intervals that include exactly one round number. For example, the normal distribution is useful for approximating the proportion of students reporting values in intervals like the following three:\n\nmean(x &lt;= 68.5) - mean(x &lt;= 67.5)\n\n[1] 0.114532\n\nmean(x &lt;= 69.5) - mean(x &lt;= 68.5)\n\n[1] 0.1194581\n\nmean(x &lt;= 70.5) - mean(x &lt;= 69.5)\n\n[1] 0.1219212\n\n\nNote how close we get with the normal approximation:\n\npnorm(68.5, m, s) - pnorm(67.5, m, s) \n\n[1] 0.1031077\n\npnorm(69.5, m, s) - pnorm(68.5, m, s) \n\n[1] 0.1097121\n\npnorm(70.5, m, s) - pnorm(69.5, m, s) \n\n[1] 0.1081743\n\n\nHowever, the approximation is not as useful for other intervals. For instance, notice how the approximation breaks down when we try to estimate:\n\nmean(x &lt;= 70.9) - mean(x&lt;=70.1)\n\n[1] 0.02216749\n\n\nwith\n\npnorm(70.9, m, s) - pnorm(70.1, m, s)\n\n[1] 0.08359562\n\n\nIn general, we call this situation discretization. Although the true height distribution is continuous, the reported heights tend to be more common at discrete values, in this case, due to rounding. As long as we are aware of how to deal with this reality, the normal approximation can still be a very useful tool.\n\n\n7.27.2 The probability density\nFor categorical distributions, we can define the probability of a category. For example, a roll of a die, let’s call it \\(X\\), can be 1,2,3,4,5 or 6. The probability of 4 is defined as:\n\\[\n\\mbox{Pr}(X=4) = 1/6\n\\]\nThe CDF can then easily be defined: \\[\nF(4) = \\mbox{Pr}(X\\leq 4) =  \\mbox{Pr}(X = 4) +  \\mbox{Pr}(X = 3) +  \\mbox{Pr}(X = 2) +  \\mbox{Pr}(X = 1)\n\\]\nAlthough for continuous distributions the probability of a single value \\(\\mbox{Pr}(X=x)\\) is not defined, there is a theoretical definition that has a similar interpretation. The probability density at \\(x\\) is defined as the function \\(f(a)\\) such that:\n\\[\nF(a) = \\mbox{Pr}(X\\leq a) = \\int_{-\\infty}^a f(x)\\, dx\n\\]\nFor those that know calculus, remember that the integral is related to a sum: it is the sum of bars with widths approximating 0. If you don’t know calculus, you can think of \\(f(x)\\) as a curve for which the area under that curve up to the value \\(a\\), gives you the probability \\(\\mbox{Pr}(X\\leq a)\\).\nFor example, to use the normal approximation to estimate the probability of someone being taller than 76 inches, we use:\n\n1 - pnorm(76, m, s)\n\n[1] 0.03206008\n\n\nwhich mathematically is the grey area below:\n\n\n\n\n\n\n\n\n\nThe curve you see is the probability density for the normal distribution. In R, we get this using the function dnorm.\nAlthough it may not be immediately obvious why knowing about probability densities is useful, understanding this concept will be essential to those wanting to fit models to data for which predefined functions are not available.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#monte-carlo-simulations-for-continuous-variables",
    "href": "probability.html#monte-carlo-simulations-for-continuous-variables",
    "title": "7  Probability",
    "section": "7.28 Monte Carlo simulations for continuous variables",
    "text": "7.28 Monte Carlo simulations for continuous variables\nR provides functions to generate normally distributed outcomes. Specifically, the rnorm function takes three arguments: size, average (defaults to 0), and standard deviation (defaults to 1) and produces random numbers. Here is an example of how we could generate data that looks like our reported heights:\n\nn &lt;- length(x)\nm &lt;- mean(x)\ns &lt;- sd(x)\nsimulated_heights &lt;- rnorm(n, m, s)\n\nNot surprisingly, the distribution looks normal:\n\n\n\n\n\n\n\n\n\nThis is one of the most useful functions in R as it will permit us to generate data that mimics natural events and answers questions related to what could happen by chance by running Monte Carlo simulations.\nIf, for example, we pick 800 males at random, what is the distribution of the tallest person? How rare is a seven footer in a group of 800 males? The following Monte Carlo simulation helps us answer that question:\n\nB &lt;- 10000\ntallest &lt;- replicate(B, {\n  simulated_data &lt;- rnorm(800, m, s)\n  max(simulated_data)\n})\n\nHaving a seven footer is quite rare:\n\nmean(tallest &gt;= 7*12)\n\n[1] 0.0172\n\n\nHere is the resulting distribution:\n\n\n\n\n\n\n\n\n\nNote that it does not look normal.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#continuous-distributions",
    "href": "probability.html#continuous-distributions",
    "title": "7  Probability",
    "section": "7.29 Continuous distributions",
    "text": "7.29 Continuous distributions\nWe introduced the normal distribution in Section @ref(normal-distribution) and used it as an example above. The normal distribution is not the only useful theoretical distribution. Other continuous distributions that we may encounter are the student-t, Chi-square, exponential, gamma, beta, and beta-binomial. R provides functions to compute the density, the quantiles, the cumulative distribution functions and to generate Monte Carlo simulations. R uses a convention that lets us remember the names, namely using the letters d, q, p, and r in front of a shorthand for the distribution. We have already seen the functions dnorm, pnorm, and rnorm for the normal distribution. The functions qnorm gives us the quantiles. We can therefore draw a distribution like this:\n\nx &lt;- seq(-4, 4, length.out = 100)\nqplot(x, f, geom = \"line\", data = data.frame(x, f = dnorm(x)))\n\nFor the student-t, described later in Section @ref(t-dist), the shorthand t is used so the functions are dt for the density, qt for the quantiles, pt for the cumulative distribution function, and rt for Monte Carlo simulation.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#exercises-1",
    "href": "probability.html#exercises-1",
    "title": "7  Probability",
    "section": "7.30 Exercises",
    "text": "7.30 Exercises\n1. Assume the distribution of female heights is approximated by a normal distribution with a mean of 64 inches and a standard deviation of 3 inches. If we pick a female at random, what is the probability that she is 5 feet or shorter?\n2. Assume the distribution of female heights is approximated by a normal distribution with a mean of 64 inches and a standard deviation of 3 inches. If we pick a female at random, what is the probability that she is 6 feet or taller?\n3. Assume the distribution of female heights is approximated by a normal distribution with a mean of 64 inches and a standard deviation of 3 inches. If we pick a female at random, what is the probability that she is between 61 and 67 inches?\n4. Repeat the exercise above, but convert everything to centimeters. That is, multiply every height, including the standard deviation, by 2.54. What is the answer now?\n5. Notice that the answer to the question does not change when you change units. This makes sense since the answer to the question should not be affected by what units we use. In fact, if you look closely, you notice that 61 and 64 are both 1 SD away from the average. Compute the probability that a randomly picked, normally distributed random variable is within 1 SD from the average.\n6. To see the math that explains why the answers to questions 3, 4, and 5 are the same, suppose we have a random variable with average \\(m\\) and standard error \\(s\\). Suppose we ask the probability of \\(X\\) being smaller or equal to \\(a\\). Remember that, by definition, \\(a\\) is \\((a - m)/s\\) standard deviations \\(s\\) away from the average \\(m\\). The probability is:\n\\[\n\\mbox{Pr}(X \\leq a)\n\\]\nNow we subtract \\(\\mu\\) to both sides and then divide both sides by \\(\\sigma\\):\n\\[\n\\mbox{Pr}\\left(\\frac{X-m}{s} \\leq \\frac{a-m}{s} \\right)\n\\]\nThe quantity on the left is a standard normal random variable. It has an average of 0 and a standard error of 1. We will call it \\(Z\\):\n\\[\n\\mbox{Pr}\\left(Z \\leq \\frac{a-m}{s} \\right)\n\\]\nSo, no matter the units, the probability of \\(X\\leq a\\) is the same as the probability of a standard normal variable being less than \\((a - m)/s\\). If mu is the average and sigma the standard error, which of the following R code would give us the right answer in every situation:\n\nmean(X&lt;=a)\npnorm((a - m)/s)\npnorm((a - m)/s, m, s)\npnorm(a)\n\n7. Imagine the distribution of male adults is approximately normal with an expected value of 69 and a standard deviation of 3. How tall is the male in the 99th percentile? Hint: use qnorm.\n8. The distribution of IQ scores is approximately normally distributed. The average is 100 and the standard deviation is 15. Suppose you want to know the distribution of the highest IQ across all graduating classes if 10,000 people are born each in your school district. Run a Monte Carlo simulation with B=1000 generating 10,000 IQ scores and keeping the highest. Make a histogram.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  },
  {
    "objectID": "probability.html#footnotes",
    "href": "probability.html#footnotes",
    "title": "7  Probability",
    "section": "",
    "text": "https://en.wikipedia.org/wiki/Urn_problem↩︎\nhttps://www.khanacademy.org/math/precalculus/prob-comb/dependent-events-precalc/v/monty-hall-problem↩︎\nhttps://en.wikipedia.org/wiki/Monty_Hall_problem↩︎",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Probability</span>"
    ]
  }
]